jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,o){return jQuery.easing[jQuery.easing.def](e,t,i,n,o)},easeInQuad:function(e,t,i,n,o){return n*(t/=o)*t+i},easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i},easeInOutQuad:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,o){return n*(t/=o)*t*t+i},easeOutCubic:function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,o){return n*(t/=o)*t*t*t+i},easeOutQuart:function(e,t,i,n,o){return-n*((t=t/o-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,o){return n*(t/=o)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,o){return n*((t=t/o-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,o){return n*Math.sin(t/o*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+i},easeInExpo:function(e,t,i,n,o){return 0==t?i:n*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(e,t,i,n,o){return t==o?i+n:n*(-Math.pow(2,-10*t/o)+1)+i},easeInOutExpo:function(e,t,i,n,o){return 0==t?i:t==o?i+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(e,t,i,n,o){return-n*(Math.sqrt(1-(t/=o)*t)-1)+i},easeOutCirc:function(e,t,i,n,o){return n*Math.sqrt(1-(t=t/o-1)*t)+i},easeInOutCirc:function(e,t,i,n,o){return(t/=o/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,o){var r=1.70158,s=0,a=n;if(0==t)return i;if(1==(t/=o))return i+n;if(s||(s=.3*o),a<Math.abs(n)){a=n;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(n/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-r)*Math.PI/s))+i},easeOutElastic:function(e,t,i,n,o){var r=1.70158,s=0,a=n;if(0==t)return i;if(1==(t/=o))return i+n;if(s||(s=.3*o),a<Math.abs(n)){a=n;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*t)*Math.sin(2*(t*o-r)*Math.PI/s)+n+i},easeInOutElastic:function(e,t,i,n,o){var r=1.70158,s=0,a=n;if(0==t)return i;if(2==(t/=o/2))return i+n;if(s||(s=.3*o*1.5),a<Math.abs(n)){a=n;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(n/a);return 1>t?-.5*a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-r)*Math.PI/s)+i:a*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*o-r)*Math.PI/s)*.5+n+i},easeInBack:function(e,t,i,n,o,r){return void 0==r&&(r=1.70158),n*(t/=o)*t*((r+1)*t-r)+i},easeOutBack:function(e,t,i,n,o,r){return void 0==r&&(r=1.70158),n*((t=t/o-1)*t*((r+1)*t+r)+1)+i},easeInOutBack:function(e,t,i,n,o,r){return void 0==r&&(r=1.70158),(t/=o/2)<1?n/2*t*t*(((r*=1.525)+1)*t-r)+i:n/2*((t-=2)*t*(((r*=1.525)+1)*t+r)+2)+i},easeInBounce:function(e,t,i,n,o){return n-jQuery.easing.easeOutBounce(e,o-t,0,n,o)+i},easeOutBounce:function(e,t,i,n,o){return(t/=o)<1/2.75?7.5625*n*t*t+i:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,o){return o/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,n,o)+i:.5*jQuery.easing.easeOutBounce(e,2*t-o,0,n,o)+.5*n+i}}),!function(){"use strict";function e(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,n),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,t+=1}var t=0,i={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var n in i)t.push(i[n]);for(var o=0,r=t.length;r>o;o++)t[o][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=o.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,r=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete n[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,o.requestAnimationFrame(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){(!t.didScroll||o.isTouch)&&(t.didScroll=!0,o.requestAnimationFrame(e))})},t.prototype.handleResize=function(){o.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in t){var n=t[i],o=n.newScroll>n.oldScroll,r=o?n.forward:n.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=n.oldScroll<a.triggerPoint,c=n.newScroll>=a.triggerPoint,p=l&&c,d=!l&&!c;(p||d)&&(a.queueTrigger(r),e[a.group.id]=a.group)}}for(var u in e)e[u].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var i in this.waypoints[t])e.push(this.waypoints[t][i]);for(var n=0,o=e.length;o>n;n++)e[n].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,i=this.adapter.offset(),n={};this.handleScroll(),e={horizontal:{contextOffset:t?0:i.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:i.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var o in e){var r=e[o];for(var s in this.waypoints[o]){var a,l,c,p,d,u=this.waypoints[o][s],h=u.options.offset,f=u.triggerPoint,g=0,m=null==f;u.element!==u.element.window&&(g=u.adapter.offset()[r.offsetProp]),"function"==typeof h?h=h.apply(u):"string"==typeof h&&(h=parseFloat(h),u.options.offset.indexOf("%")>-1&&(h=Math.ceil(r.contextDimension*h/100))),a=r.contextScroll-r.contextOffset,u.triggerPoint=g+a-h,l=f<r.oldScroll,c=u.triggerPoint>=r.oldScroll,p=l&&c,d=!l&&!c,!m&&p?(u.queueTrigger(r.backward),n[u.group.id]=u.group):!m&&d?(u.queueTrigger(r.forward),n[u.group.id]=u.group):m&&r.oldScroll>=u.triggerPoint&&(u.queueTrigger(r.forward),n[u.group.id]=u.group)}}for(var v in n)n[v].flushTriggers();return this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in n)n[e].refresh()},t.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){r&&r(),t.refreshAll()},o.requestAnimationFrame=function(t){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e;i.call(window,t)},o.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function i(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(e){this.waypoints.push(e)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o="up"===i||"left"===i;n.sort(o?t:e);for(var r=0,s=n.length;s>r;r+=1){var a=n[r];(a.options.continuous||r===n.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(t){this.waypoints.sort(e);var i=o.Adapter.inArray(t,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(t){this.waypoints.sort(e);var i=o.Adapter.inArray(t,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},i.prototype.remove=function(e){var t=o.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(e){return n[e.axis][e.name]||new i(e)},o.Group=i}(),function(){"use strict";function e(e){this.$element=t(e)}var t=window.jQuery,i=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,i){e.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,e)}}),t.each(["extend","inArray","isEmptyObject"],function(i,n){e[n]=t[n]}),i.adapters.push({name:"jquery",Adapter:e}),i.Adapter=e}(),function(){"use strict";function e(e){return function(){var i=[],n=arguments[0];return e.isFunction(arguments[0])&&(n=e.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var o=e.extend({},n,{element:this});"string"==typeof o.context&&(o.context=e(this).closest(o.context)[0]),i.push(new t(o))}),i}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),function(){"use strict";function e(i){this.options=$.extend({},t.defaults,e.defaults,i),this.element=this.options.element,this.$element=$(this.element),this.createWrapper(),this.createWaypoint()}var $=window.jQuery,t=window.Waypoint;e.prototype.createWaypoint=function(){var e=this.options.handler;this.waypoint=new t($.extend({},this.options,{element:this.wrapper,handler:$.proxy(function(t){var i=this.options.direction.indexOf(t)>-1,n=i?this.$element.outerHeight(!0):"";this.$wrapper.height(n),this.$element.toggleClass(this.options.stuckClass,i),e&&e.call(this,t)},this)}))},e.prototype.createWrapper=function(){this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},e.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass).unwrap())},e.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},t.Sticky=e}(),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var o,r,s,a=this;if(a.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},a.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(a,a.initials),a.activeBreakpoint=null,a.animType=null,a.animProp=null,a.breakpoints=[],a.breakpointSettings=[],a.cssTransitions=!1,a.hidden="hidden",a.paused=!1,a.positionProp=null,a.respondTo=null,a.shouldClick=!0,a.$slider=e(t),a.$slidesCache=null,a.transformType=null,a.transitionType=null,a.visibilityChange="visibilitychange",a.windowWidth=0,a.windowTimer=null,o=e(t).data("slick")||{},a.options=e.extend({},a.defaults,o,n),a.currentSlide=a.options.initialSlide,a.originalSettings=a.options,r=a.options.responsive||null,r&&r.length>-1){a.respondTo=a.options.respondTo||"window";for(s in r)r.hasOwnProperty(s)&&(a.breakpoints.push(r[s].breakpoint),a.breakpointSettings[r[s].breakpoint]=r[s].settings);a.breakpoints.sort(function(e,t){return a.options.mobileFirst===!0?e-t:t-e})}"undefined"!=typeof document.mozHidden?(a.hidden="mozHidden",a.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(a.hidden="msHidden",a.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(a.hidden="webkitHidden",a.visibilityChange="webkitvisibilitychange"),a.autoPlay=e.proxy(a.autoPlay,a),a.autoPlayClear=e.proxy(a.autoPlayClear,a),a.changeSlide=e.proxy(a.changeSlide,a),a.clickHandler=e.proxy(a.clickHandler,a),a.selectHandler=e.proxy(a.selectHandler,a),a.setPosition=e.proxy(a.setPosition,a),a.swipeHandler=e.proxy(a.swipeHandler,a),a.dragHandler=e.proxy(a.dragHandler,a),a.keyHandler=e.proxy(a.keyHandler,a),a.autoPlayIterator=e.proxy(a.autoPlayIterator,a),a.instanceUid=i++,a.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,a.init(),a.checkResponsive(!0)}var i=0;return t}(),t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):n?e(t).insertBefore(o.$slides.eq(i)):e(t).insertAfter(o.$slides.eq(i)):n===!0?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},o=this;o.animateHeight(),o.options.rtl===!0&&o.options.vertical===!1&&(t=-t),o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,i):o.cssTransitions===!1?(o.options.rtl===!0&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),o.options.vertical===!1?(n[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),t=Math.ceil(t),n[o.animType]=o.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},t.prototype.asNavFor=function(t){var i=this,n=null!==i.options.asNavFor?e(i.options.asNavFor).slick("getSlick"):null;null!==n&&n.slideHandler(t,!0)},t.prototype.applyTransition=function(e){var t=this,i={};i[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(0===e.currentSlide-1&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow=e(t.options.prevArrow),t.$nextArrow=e(t.options.nextArrow),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.appendTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(i='<ul class="'+n.options.dotsClass+'">',t=0;t<=n.getDotCount();t+=1)i+="<li>"+n.options.customPaging.call(this,n,t)+"</li>";i+="</ul>",n.$dots=e(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.options.accessibility===!0&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.checkResponsive=function(t){var i,n,o,r=this,s=r.$slider.width(),a=window.innerWidth||e(window).width();if("window"===r.respondTo?o=a:"slider"===r.respondTo?o=s:"min"===r.respondTo&&(o=Math.min(a,s)),r.originalSettings.responsive&&r.originalSettings.responsive.length>-1&&null!==r.originalSettings.responsive){n=null;for(i in r.breakpoints)r.breakpoints.hasOwnProperty(i)&&(r.originalSettings.mobileFirst===!1?o<r.breakpoints[i]&&(n=r.breakpoints[i]):o>r.breakpoints[i]&&(n=r.breakpoints[i]));null!==n?null!==r.activeBreakpoint?n!==r.activeBreakpoint&&(r.activeBreakpoint=n,"unslick"===r.breakpointSettings[n]?r.unslick():(r.options=e.extend({},r.originalSettings,r.breakpointSettings[n]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh())):(r.activeBreakpoint=n,"unslick"===r.breakpointSettings[n]?r.unslick():(r.options=e.extend({},r.originalSettings,r.breakpointSettings[n]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh())):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh())}},t.prototype.changeSlide=function(t,i){var n,o,r,s=this,a=e(t.target);switch(a.is("a")&&t.preventDefault(),r=0!==s.slideCount%s.options.slidesToScroll,n=r?0:(s.slideCount-s.currentSlide)%s.options.slidesToScroll,t.data.message){case"previous":o=0===n?s.options.slidesToScroll:s.options.slidesToShow-n,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide-o,!1,i);break;case"next":o=0===n?s.options.slidesToScroll:n,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide+o,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||e(t.target).parent().index()*s.options.slidesToScroll;s.slideHandler(s.checkNavigable(l),!1,i);break;default:return}},t.prototype.checkNavigable=function(e){var t,i,n=this;if(t=n.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var o in t){if(e<t[o]){e=i;break}i=t[o]}return e},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$list.off(".slick"),e(window).off(".slick-"+t.instanceUid),e(document).off(".slick-"+t.instanceUid),t.$slider.html(t.$slides)},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(e.options.infinite===!0)n=Math.ceil(e.slideCount/e.options.slidesToScroll);else if(e.options.centerMode===!0)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},t.prototype.getLeft=function(e){var t,i,n,o=this,r=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(),o.options.infinite===!0?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=-1*o.slideWidth*o.options.slidesToShow,r=-1*i*o.options.slidesToShow),0!==o.slideCount%o.options.slidesToScroll&&e+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(e>o.slideCount?(o.slideOffset=-1*(o.options.slidesToShow-(e-o.slideCount))*o.slideWidth,r=-1*(o.options.slidesToShow-(e-o.slideCount))*i):(o.slideOffset=-1*o.slideCount%o.options.slidesToScroll*o.slideWidth,r=-1*o.slideCount%o.options.slidesToScroll*i))):e+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(e+o.options.slidesToShow-o.slideCount)*o.slideWidth,r=(e+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,r=0),o.options.centerMode===!0&&o.options.infinite===!0?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:o.options.centerMode===!0&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),t=o.options.vertical===!1?-1*e*o.slideWidth+o.slideOffset:-1*e*i+r,o.options.variableWidth===!0&&(n=o.$slideTrack.children(".slick-slide").eq(o.slideCount<=o.options.slidesToShow||o.options.infinite===!1?e:e+o.options.slidesToShow),t=n[0]?-1*n[0].offsetLeft:0,o.options.centerMode===!0&&(n=o.$slideTrack.children(".slick-slide").eq(o.options.infinite===!1?e:e+o.options.slidesToShow+1),t=n[0]?-1*n[0].offsetLeft:0,t+=(o.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,o=[];for(t.options.infinite===!1?(e=t.slideCount-t.options.slidesToShow+1,t.options.centerMode===!0&&(e=t.slideCount)):(i=-1*t.slideCount,n=-1*t.slideCount,e=2*t.slideCount);e>i;)o.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n,o=this;return n=o.options.centerMode===!0?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,o.options.swipeToSlide===!0?(o.$slideTrack.find(".slick-slide").each(function(t,r){return r.offsetLeft-n+e(r).outerWidth()/2>-1*o.swipeLeft?(i=r,!1):void 0}),t=Math.abs(e(i).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slick-initialized")||(e(t.$slider).addClass("slick-initialized"),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots()),t.$slider.trigger("init",[t])},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).on("mouseenter.slick",function(){t.paused=!0,t.autoPlayClear()}).on("mouseleave.slick",function(){t.paused=!1,t.autoPlay()})},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),t.options.autoplay===!0&&(e(document).on(t.visibilityChange,function(){t.visibility()}),t.options.pauseOnHover===!0&&(t.$list.on("mouseenter.slick",function(){t.paused=!0,t.autoPlayClear()}),t.$list.on("mouseleave.slick",function(){t.paused=!1,t.autoPlay()}))),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,function(){t.checkResponsive(),t.setPosition()}),e(window).on("resize.slick.slick-"+t.instanceUid,function(){e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))}),e("*[draggable!=true]",t.$slideTrack).on("dragstart",function(e){e.preventDefault()}),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy");t.load(function(){t.animate({opacity:1},200)}).css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}var i,n,o,r,s=this;s.options.centerMode===!0?s.options.infinite===!0?(o=s.currentSlide+(s.options.slidesToShow/2+1),r=o+s.options.slidesToShow+2):(o=Math.max(0,s.currentSlide-(s.options.slidesToShow/2+1)),r=2+(s.options.slidesToShow/2+1)+s.currentSlide):(o=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,r=o+s.options.slidesToShow,s.options.fade===!0&&(o>0&&o--,r<=s.slideCount&&r++)),i=s.$slider.find(".slick-slide").slice(o,r),t(i),s.slideCount<=s.options.slidesToShow?(n=s.$slider.find(".slick-slide"),t(n)):s.currentSlide>=s.slideCount-s.options.slidesToShow?(n=s.$slider.find(".slick-cloned").slice(0,s.options.slidesToShow),t(n)):0===s.currentSlide&&(n=s.$slider.find(".slick-cloned").slice(-1*s.options.slidesToShow),t(n))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.paused=!1,e.autoPlay()},t.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay()},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.progressiveLazyLoad=function(){var t,i,n=this;t=e("img[data-lazy]",n.$slider).length,t>0&&(i=e("img[data-lazy]",n.$slider).first(),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}).error(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}))},t.prototype.refresh=function(){var t=this,i=t.currentSlide;
t.destroy(),e.extend(t,t.initials),t.init(),t.changeSlide({data:{message:"index",index:i}},!0)},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t])},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,n.slideCount<1||0>e||e>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,o={};n.options.rtl===!0&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(o):(o={},n.cssTransitions===!1?(o[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;if(e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1)e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length));else if(e.options.variableWidth===!0){var t=0;e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.children(".slick-slide").each(function(){t+=e.listWidth}),e.$slideTrack.width(Math.ceil(t)+1)}else e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length));var i=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-i)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,o){t=-1*i.slideWidth*n,e(o).css(i.options.rtl===!0?{position:"relative",right:t,top:0,zIndex:800,opacity:0}:{position:"relative",left:t,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(e,t,i){var n=this;n.options[e]=t,i===!0&&(n.unload(),n.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,n,o,r=this;r.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),i=r.$slider.find(".slick-slide"),r.options.centerMode===!0?(t=Math.floor(r.options.slidesToShow/2),r.options.infinite===!0&&(e>=t&&e<=r.slideCount-1-t?r.$slides.slice(e-t,e+t+1).addClass("slick-active"):(n=r.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active")),0===e?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")):e>=0&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active"):i.length<=r.options.slidesToShow?i.addClass("slick-active"):(o=r.slideCount%r.options.slidesToShow,n=r.options.infinite===!0?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-o),n+o).addClass("slick-active"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,o=this;if(o.options.fade===!0&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-n;t-=1)i=t-1,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.selectHandler=function(t){var i=this,n=parseInt(e(t.target).parents(".slick-slide").attr("data-slick-index"));return n||(n=0),i.slideCount<=i.options.slidesToShow?(i.$slider.find(".slick-slide").removeClass("slick-active"),i.$slides.eq(n).addClass("slick-active"),i.options.centerMode===!0&&(i.$slider.find(".slick-slide").removeClass("slick-center"),i.$slides.eq(n).addClass("slick-center")),void i.asNavFor(n)):void i.slideHandler(n)},t.prototype.slideHandler=function(e,t,i){var n,o,r,s,a=null,l=this;return t=t||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===e||l.slideCount<=l.options.slidesToShow?void 0:(t===!1&&l.asNavFor(e),n=e,a=l.getLeft(n),s=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?s:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>e||e>l.getDotCount()*l.options.slidesToScroll)?void(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(s,function(){l.postSlide(n)}):l.postSlide(n))):l.options.infinite===!1&&l.options.centerMode===!0&&(0>e||e>l.slideCount-l.options.slidesToScroll)?void(l.options.fade===!1&&(n=l.currentSlide,i!==!0?l.animateSlide(s,function(){l.postSlide(n)}):l.postSlide(n))):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),o=0>n?0!==l.slideCount%l.options.slidesToScroll?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+n:n>=l.slideCount?0!==l.slideCount%l.options.slidesToScroll?0:n-l.slideCount:n,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,o]),r=l.currentSlide,l.currentSlide=o,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(i!==!0?l.fadeSlide(o,function(){l.postSlide(o)}):l.postSlide(o),void l.animateHeight()):void(i!==!0?l.animateSlide(a,function(){l.postSlide(o)}):l.postSlide(o))))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?o.options.rtl===!1?"left":"right":360>=n&&n>=315?o.options.rtl===!1?"left":"right":n>=135&&225>=n?o.options.rtl===!1?"right":"left":"vertical"},t.prototype.swipeEnd=function(){var e,t=this;if(t.dragging=!1,t.shouldClick=t.touchObject.swipeLength>10?!1:!0,void 0===t.touchObject.curX)return!1;if(t.touchObject.edgeHit===!0&&t.$slider.trigger("edge",[t,t.swipeDirection()]),t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(t.swipeDirection()){case"left":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide+t.getSlideCount()):t.currentSlide+t.getSlideCount(),t.slideHandler(e),t.currentDirection=0,t.touchObject={},t.$slider.trigger("swipe",[t,"left"]);break;case"right":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide-t.getSlideCount()):t.currentSlide-t.getSlideCount(),t.slideHandler(e),t.currentDirection=1,t.touchObject={},t.$slider.trigger("swipe",[t,"right"])}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),t.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,o,r,s=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,!s.dragging||r&&1!==r.length?!1:(t=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,s.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),i=s.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&s.touchObject.swipeLength>4&&e.preventDefault(),o=(s.options.rtl===!1?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),n=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,s.options.infinite===!1&&(0===s.currentSlide&&"right"===i||s.currentSlide>=s.getDotCount()&&"left"===i)&&(n=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),s.swipeLeft=s.options.vertical===!1?t+n*o:t+n*(s.$list.height()/s.listWidth)*o,s.options.fade===!0||s.options.touchMove===!1?!1:s.animating===!0?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},t.prototype.unslick=function(){var e=this;e.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.options.infinite!==!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.removeClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled"),t.$prevArrow.removeClass("slick-disabled")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled"),t.$prevArrow.removeClass("slick-disabled")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},t.prototype.visibility=function(){var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):(e.paused=!1,e.autoPlay())},e.fn.slick=function(){var e,i=this,n=arguments[0],o=Array.prototype.slice.call(arguments,1),r=i.length,s=0;for(s;r>s;s++)if("object"==typeof n||"undefined"==typeof n?i[s].slick=new t(i[s],n):e=i[s].slick[n].apply(i[s].slick,o),"undefined"!=typeof e)return e;return i},e(function(){e("[data-slick]").slick()})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(e){function t(e){return e.replace(/(:|\.|\/)/g,"\\$1")}var i="1.5.5",n={},o={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0},r=function(t){var i=[],n=!1,o=t.dir&&"left"===t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!==document&&this!==window){var t=e(this);t[o]()>0?i.push(this):(t[o](1),n=t[o]()>0,n&&i.push(this),t[o](0))}}),i.length||this.each(function(){"BODY"===this.nodeName&&(i=[this])}),"first"===t.el&&i.length>1&&(i=[i[0]]),i};e.fn.extend({scrollable:function(e){var t=r.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=r.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(i,n){if(i=i||{},"options"===i)return n?this.each(function(){var t=e(this),i=e.extend(t.data("ssOpts")||{},n);e(this).data("ssOpts",i)}):this.first().data("ssOpts");var o=e.extend({},e.fn.smoothScroll.defaults,i),r=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(i){var n=this,s=e(this),a=e.extend({},o,s.data("ssOpts")||{}),l=o.exclude,c=a.excludeWithin,p=0,d=0,u=!0,h={},f=location.hostname===n.hostname||!n.hostname,g=a.scrollTarget||e.smoothScroll.filterPath(n.pathname)===r,m=t(n.hash);if(a.scrollTarget||f&&g&&m){for(;u&&l.length>p;)s.is(t(l[p++]))&&(u=!1);for(;u&&c.length>d;)s.closest(c[d++]).length&&(u=!1)}else u=!1;u&&(a.preventDefault&&i.preventDefault(),e.extend(h,a,{scrollTarget:a.scrollTarget||m,link:n}),e.smoothScroll(h))}),this}}),e.smoothScroll=function(t,i){if("options"===t&&"object"==typeof i)return e.extend(n,i);var o,r,s,a,l,c=0,p="offset",d="scrollTop",u={},h={};"number"==typeof t?(o=e.extend({link:null},e.fn.smoothScroll.defaults,n),s=t):(o=e.extend({link:null},e.fn.smoothScroll.defaults,t||{},n),o.scrollElement&&(p="position","static"===o.scrollElement.css("position")&&o.scrollElement.css("position","relative"))),d="left"===o.direction?"scrollLeft":d,o.scrollElement?(r=o.scrollElement,/^(?:HTML|BODY)$/.test(r[0].nodeName)||(c=r[d]())):r=e("html, body").firstScrollable(o.direction),o.beforeScroll.call(r,o),s="number"==typeof t?t:i||e(o.scrollTarget)[p]()&&e(o.scrollTarget)[p]()[o.direction]||0,u[d]=s+c+o.offset,a=o.speed,"auto"===a&&(l=u[d]-r.scrollTop(),0>l&&(l*=-1),a=l/o.autoCoefficient),h={duration:a,easing:o.easing,complete:function(){o.afterScroll.call(o.link,o)}},o.step&&(h.step=o.step),r.length?r.stop().animate(u,h):o.afterScroll.call(o.link,o)},e.smoothScroll.version=i,e.smoothScroll.filterPath=function(e){return e=e||"",e.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=o}),!function(e,t,i,n){"use strict";function o(t,i,n){var r=this;if(e.data(t,"cubeportfolio"))throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");e.data(t,"cubeportfolio",r),r.options=e.extend({},e.fn.cubeportfolio.options,i),r.isAnimating=!0,r.defaultFilter=r.options.defaultFilter,r.registeredEvents=[],r.skipEvents=[],r.addedWrapp=!1,e.isFunction(n)&&r._registerEvent("initFinish",n,!0),r.obj=t,r.$obj=e(t),r.$obj.addClass("cbp"),r.$obj.children().first().hasClass("cbp-item")&&(r.wrapInner(r.obj,"cbp-wrapper"),r.addedWrapp=!0),r.$ul=r.$obj.children().addClass("cbp-wrapper"),r.wrapInner(r.obj,"cbp-wrapper-outer"),r.wrapper=r.$obj.children(".cbp-wrapper-outer"),r.wrapInner(r.obj.querySelectorAll(".cbp-item"),"cbp-item-wrapper"),r.width=r.$obj.outerWidth(),r.blocks=r.$ul.children(".cbp-item"),r.blocks.length<1||(r.blocksObj=r.blocks.map(function(t,i){return r.generateBlock(e(i))}),r.blocksOn=r.blocksObj,"grid"===r.options.layoutMode&&r._filterFromUrl(),"*"!==r.defaultFilter&&(r.blocksOn=e.map(r.blocksObj,function(e){return e.el.is(r.defaultFilter)?e:void e.el.addClass("cbp-item-off")})),r._plugins=e.map(o.Plugins,function(e){return e(r)}),r._load(r.$obj,r._display))}e.extend(o.prototype,{generateBlock:function(e){return{el:e,wrapper:e.children(".cbp-item-wrapper"),elClone:null,wrapperClone:null,widthInitial:e.outerWidth(),heightInitial:e.outerHeight(),width:null,height:null,left:null,leftNew:null,top:null,topNew:null,elFront:e}},wrapInner:function(e,t){var n,o,r;for(t=t||"",e=e.length?e:[e],o=e.length-1;o>=0;o--){for(n=e[o],r=i.createElement("div"),r.setAttribute("class",t);n.childNodes.length;)r.appendChild(n.childNodes[0]);n.appendChild(r)}},_captionDestroy:function(){var e=this;e.$obj.removeClass("cbp-caption-"+e.options.caption)},resizeEvent:function(){var i,n,o=this;e(t).on("resize.cbp",function(){clearTimeout(i),i=setTimeout(function(){t.innerHeight!=screen.height&&("alignCenter"===o.options.gridAdjustment&&(o.obj.style.maxWidth=""),n=o.$obj.outerWidth(),o.width!==n&&(o.width=n,"responsive"===o.options.gridAdjustment&&o._responsiveLayout(),o._layout(),o.positionateItems(),o._resizeMainContainer(),"slider"===o.options.layoutMode&&o._updateSlider(),o._triggerEvent("resizeGrid")),o._triggerEvent("resizeWindow"))},80)})},_load:function(t,i,n){var o,r,s=this,a=0;n=n||[],o=t.find("img:uncached").map(function(){return this.src}),r=o.length,0===r&&i.apply(s,n),e.each(o,function(t,o){var l=new Image;e(l).one("load.cbp error.cbp",function(){return e(this).off("load.cbp error.cbp"),a++,a===r?(i.apply(s,n),!1):void 0}),l.src=o})},_filterFromUrl:function(){var e=this,t=/#cbpf=(.*?)([#|?&]|$)/gi.exec(location.href);null!==t&&(e.defaultFilter=t[1])},_display:function(){var t=this;t._triggerEvent("initStartRead"),t._triggerEvent("initStartWrite"),t.localColumnWidth=t.blocksObj[0].widthInitial+t.options.gapVertical,t.getColumnsType=e.isArray(t.options.mediaQueries)?"_getColumnsBreakpoints":"_getColumnsAuto","responsive"===t.options.gridAdjustment?t._responsiveLayout():e.each(t.blocksObj,function(e,t){t.width=t.widthInitial,t.height=t.heightInitial}),t["_"+t.options.layoutMode+"Markup"](),t._layout(),t.positionateItems(),t._resizeMainContainer(),t._triggerEvent("initEndRead"),t._triggerEvent("initEndWrite"),t.options.caption&&(o.Private.modernBrowser||(t.options.caption="minimal"),t.$obj.addClass("cbp-caption-"+t.options.caption)),t.$obj.addClass("cbp-ready"),t._registerEvent("delayFrame",t.delayFrame),t._triggerEvent("delayFrame")},positionateItems:function(){var e,t,i=this;for(e=i.blocksOn.length-1;e>=0;e--)t=i.blocksOn[e],t.left=t.leftNew,t.top=t.topNew,t.elFront[0].style.left=t.left+"px",t.elFront[0].style.top=t.top+"px"},delayFrame:function(){var e=this;requestAnimationFrame(function(){e.resizeEvent(),e._triggerEvent("initFinish"),e.$obj.trigger("initComplete.cbp"),e.isAnimating=!1})},_layout:function(){var e=this;e["_"+e.options.layoutMode+"LayoutReset"](),e["_"+e.options.layoutMode+"Layout"](),e.$obj.removeClass(function(e,t){return(t.match(/\bcbp-cols-\d+/gi)||[]).join(" ")}),e.$obj.addClass("cbp-cols-"+e.cols)},_sliderMarkup:function(){var t=this;t.sliderStopEvents=!1,t.sliderActive=0,t._registerEvent("updateSliderPosition",function(){t.$obj.addClass("cbp-mode-slider")},!0),t.nav=e("<div/>",{"class":"cbp-nav"}),t.nav.on("click.cbp","[data-slider-action]",function(i){if(i.preventDefault(),i.stopImmediatePropagation(),i.stopPropagation(),!t.sliderStopEvents){var n=e(this),o=n.attr("data-slider-action");t["_"+o+"Slider"]&&t["_"+o+"Slider"](n)}}),t.options.showNavigation&&(t.controls=e("<div/>",{"class":"cbp-nav-controls"}),t.navPrev=e("<div/>",{"class":"cbp-nav-prev","data-slider-action":"prev"}).appendTo(t.controls),t.navNext=e("<div/>",{"class":"cbp-nav-next","data-slider-action":"next"}).appendTo(t.controls),t.controls.appendTo(t.nav)),t.options.showPagination&&(t.navPagination=e("<div/>",{"class":"cbp-nav-pagination"}).appendTo(t.nav)),(t.controls||t.navPagination)&&t.nav.appendTo(t.$obj),t._updateSliderPagination(),t.options.auto&&(t.options.autoPauseOnHover&&(t.mouseIsEntered=!1,t.$obj.on("mouseenter.cbp",function(){t.mouseIsEntered=!0,t._stopSliderAuto()}).on("mouseleave.cbp",function(){t.mouseIsEntered=!1,t._startSliderAuto()})),t._startSliderAuto()),t.options.drag&&o.Private.modernBrowser&&t._dragSlider()},_updateSlider:function(){var e=this;e._updateSliderPosition(),e._updateSliderPagination()},_updateSliderPagination:function(){var t,i,n=this;if(n.options.showPagination){for(t=Math.ceil(n.blocksOn.length/n.cols),n.navPagination.empty(),i=t-1;i>=0;i--)e("<div/>",{"class":"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(n.navPagination);n.navPaginationItems=n.navPagination.children()}n._enableDisableNavSlider()},_destroySlider:function(){var e=this;"slider"===e.options.layoutMode&&(e.$obj.off("click.cbp"),e.$obj.removeClass("cbp-mode-slider"),e.options.showNavigation&&e.nav.remove(),e.navPagination&&e.navPagination.remove())},_nextSlider:function(){var e=this;if(e._isEndSlider()){if(!e.isRewindNav())return;e.sliderActive=0}else e.options.scrollByPage?e.sliderActive=Math.min(e.sliderActive+e.cols,e.blocksOn.length-e.cols):e.sliderActive+=1;e._goToSlider()},_prevSlider:function(){var e=this;if(e._isStartSlider()){if(!e.isRewindNav())return;e.sliderActive=e.blocksOn.length-e.cols}else e.options.scrollByPage?e.sliderActive=Math.max(0,e.sliderActive-e.cols):e.sliderActive-=1;e._goToSlider()},_jumpToSlider:function(e){var t=this,i=Math.min(e.index()*t.cols,t.blocksOn.length-t.cols);i!==t.sliderActive&&(t.sliderActive=i,t._goToSlider())},_jumpDragToSlider:function(e){var t,i,n,o=this,r=e>0?!0:!1;o.options.scrollByPage?(t=o.cols*o.localColumnWidth,i=o.cols):(t=o.localColumnWidth,i=1),e=Math.abs(e),n=Math.floor(e/t)*i,e%t>20&&(n+=i),o.sliderActive=r?Math.min(o.sliderActive+n,o.blocksOn.length-o.cols):Math.max(0,o.sliderActive-n),o._goToSlider()},_isStartSlider:function(){return 0===this.sliderActive},_isEndSlider:function(){var e=this;return e.sliderActive+e.cols>e.blocksOn.length-1},_goToSlider:function(){var e=this;e._enableDisableNavSlider(),e._updateSliderPosition()},_startSliderAuto:function(){var e=this;return e.isDrag?void e._stopSliderAuto():void(e.timeout=setTimeout(function(){e._nextSlider(),e._startSliderAuto()},e.options.autoTimeout))},_stopSliderAuto:function(){clearTimeout(this.timeout)},_enableDisableNavSlider:function(){var e,t,i=this;i.isRewindNav()||(t=i._isStartSlider()?"addClass":"removeClass",i.navPrev[t]("cbp-nav-stop"),t=i._isEndSlider()?"addClass":"removeClass",i.navNext[t]("cbp-nav-stop")),i.options.showPagination&&(e=i.options.scrollByPage?Math.ceil(i.sliderActive/i.cols):i._isEndSlider()?i.navPaginationItems.length-1:Math.floor(i.sliderActive/i.cols),i.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(e).addClass("cbp-nav-pagination-active"))},isRewindNav:function(){var e=this;return e.options.showNavigation?e.blocksOn.length<=e.cols?!1:e.options.rewindNav?!0:!1:!0},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},_sliderLayout:function(){var t=this;e.each(t.blocksOn,function(e,i){var n;i.leftNew=Math.round(t.localColumnWidth*e),i.topNew=0,n=i.height+t.options.gapHorizontal,t.colVert.push(n)}),t.sliderColVert=t.colVert.slice(t.sliderActive,t.sliderActive+t.cols),t.ulWidth=t.localColumnWidth*t.blocksOn.length-t.options.gapVertical,t.$ul.width(t.ulWidth)},_updateSliderPosition:function(){var e=this,t=-e.sliderActive*e.localColumnWidth;e._triggerEvent("updateSliderPosition"),o.Private.modernBrowser?e.$ul[0].style[o.Private.transform]="translate3d("+t+"px, 0px, 0)":e.$ul[0].style.left=t+"px",e.sliderColVert=e.colVert.slice(e.sliderActive,e.sliderActive+e.cols),e._resizeMainContainer()},_dragSlider:function(){function r(t){if(!m.sliderItemsLength()){if(w?g=t:t.preventDefault(),m.options.auto&&m._stopSliderAuto(),b)return void e(u).one("click.cbp",function(){return!1});u=e(t.target),p=c(t).x,d=0,h=-m.sliderActive*m.localColumnWidth,f=m.localColumnWidth*(m.blocksOn.length-m.cols),v.on(y.move,a),v.on(y.end,s),m.$obj.addClass("cbp-mode-slider-dragStart")}}function s(){m.$obj.removeClass("cbp-mode-slider-dragStart"),b=!0,0!==d?(u.one("click.cbp",function(){return!1}),m._jumpDragToSlider(d),m.$ul.one(o.Private.transitionend,l)):l.call(m),v.off(y.move),v.off(y.end)}function a(e){d=p-c(e).x,(d>8||-8>d)&&e.preventDefault(),m.isDrag=!0;var t=h-d;0>d&&h>d?t=(h-d)/5:d>0&&-f>h-d&&(t=-f+(f+h-d)/5),o.Private.modernBrowser?m.$ul[0].style[o.Private.transform]="translate3d("+t+"px, 0px, 0)":m.$ul[0].style.left=t+"px"}function l(){if(b=!1,m.isDrag=!1,m.options.auto){if(m.mouseIsEntered)return;m._startSliderAuto()}}function c(e){return e.originalEvent!==n&&e.originalEvent.touches!==n&&(e=e.originalEvent.touches[0]),{x:e.pageX,y:e.pageY}}var p,d,u,h,f,g,m=this,v=e(i),b=!1,y={},w=!1;m.isDrag=!1,"ontouchstart"in t||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?(y={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},w=!0):y={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},m.$ul.on(y.start,r)},_sliderLayoutReset:function(){var e=this;e.colVert=[]},_gridMarkup:function(){},_gridLayout:function(){var t=this;e.each(t.blocksOn,function(e,i){var n,o,r,s,a=Math.min.apply(Math,t.colVert),l=0;for(r=0,s=t.colVert.length;s>r;r++)if(t.colVert[r]===a){l=r;break}for(i.leftNew=Math.round(t.localColumnWidth*l),i.topNew=Math.round(a),n=a+i.height+t.options.gapHorizontal,o=t.cols+1-s,r=0;o>r;r++)t.colVert[l+r]=n})},_gridLayoutReset:function(){var e,t=this;for("alignCenter"===t.options.gridAdjustment?(t.cols=Math.max(Math.floor((t.width+t.options.gapVertical)/t.localColumnWidth),1),t.width=t.cols*t.localColumnWidth-t.options.gapVertical,t.$obj.css("max-width",t.width)):t.cols=Math.max(Math.floor((t.width+t.options.gapVertical)/t.localColumnWidth),1),t.colVert=[],e=t.cols;e--;)t.colVert.push(0)},_responsiveLayout:function(){var t,i,n=this;n.columnWidthCache?n.localColumnWidth=n.columnWidthCache:n.columnWidthCache=n.localColumnWidth,n.cols=n[n.getColumnsType](),t=n.width-n.options.gapVertical*(n.cols-1),n.localColumnWidth=parseInt(t/n.cols,10)+n.options.gapVertical,i=n.localColumnWidth-n.options.gapVertical,e.each(n.blocksObj,function(e,t){t.el[0].style.width=i+"px",t.elClone&&(t.elClone[0].style.width=i+"px"),t.width=i}),e.each(n.blocksObj,function(e,t){t.height=t.el.outerHeight()})},_getColumnsAuto:function(){var e=this;return Math.max(Math.round(e.width/e.localColumnWidth),1)},_getColumnsBreakpoints:function(){var t,i=this,o=i.width-i.options.gapVertical;return e.each(i.options.mediaQueries,function(e,i){return o>=i.width?(t=i.cols,!1):void 0}),t===n&&(t=i.options.mediaQueries[i.options.mediaQueries.length-1].cols),t},_resizeMainContainer:function(){var e,t=this,i=t.sliderColVert||t.colVert;e=Math.max(Math.max.apply(Math,i)-t.options.gapHorizontal,0),e!==t.height&&(t.obj.style.height=e+"px",t.height!==n&&(o.Private.modernBrowser?t.$obj.one(o.Private.transitionend,function(){t.$obj.trigger("pluginResize.cbp")}):t.$obj.trigger("pluginResize.cbp")),t.height=e)},_filter:function(t){var i=this;i.filterDeferred=e.Deferred(),i._triggerEvent("filterBeforeLayout"),i.blocksOn=e.map(i.blocksObj,function(e){return e.el.is(t)?e:null}),i._layout(),i._resizeMainContainer(),i.filterLayout(t),i._triggerEvent("filterAfterLayout",t),i.filterDeferred.done(e.proxy(i.filterFinish,i))},filterLayout:function(e){var t,i,n=this;for(t=n.blocksObj.length-1;t>=0;t--)i=n.blocksObj[t],i.el.is(e)?(i.el[0].style.opacity=1,i.el.removeClass("cbp-item-off"),i.left=i.leftNew,i.top=i.topNew,i.el[0].style.left=i.left+"px",i.el[0].style.top=i.top+"px"):(i.el[0].style.opacity=0,i.el.addClass("cbp-item-off"));n.filterDeferred.resolve()},filterFinish:function(){var e=this;e.isAnimating=!1,e.$obj.trigger("filterComplete.cbp"),e._triggerEvent("filterFinish")},_registerEvent:function(e,t,i){var n=this;n.registeredEvents[e]||(n.registeredEvents[e]=[]),n.registeredEvents[e].push({func:t,oneTime:i||!1})},_triggerEvent:function(e,t){var i,n,o=this;if(o.skipEvents[e])return void delete o.skipEvents[e];if(o.registeredEvents[e])for(i=0,n=o.registeredEvents[e].length;n>i;i++)o.registeredEvents[e][i].func.call(o,t),o.registeredEvents[e][i].oneTime&&(o.registeredEvents[e].splice(i,1),i--,n--)},_skipNextEvent:function(e){var t=this;t.skipEvents[e]=!0},_addItems:function(t,i){var n=this;t=e(t).filter(".cbp-item").addClass("cbp-loading-fadeIn").css("top","1000%").wrapInner('<div class="cbp-item-wrapper"></div>'),n.$obj.addClass("cbp-addItems"),n._load(t,function(){t.appendTo(n.$ul),n.blocks=n.$ul.children(".cbp-item"),t.on(o.Private.animationend,function(){n.$obj.find(".cbp-loading-fadeIn").removeClass("cbp-loading-fadeIn"),n.$obj.removeClass("cbp-addItems")}),t.each(function(t,i){n.blocksObj.push(n.generateBlock(e(i)))}),n._triggerEvent("addItemsToDOM",t),n.blocksOn=e.map(n.blocksObj,function(e){return e.el.is(n.defaultFilter)?e:void e.el.addClass("cbp-item-off")}),"responsive"===n.options.gridAdjustment&&n._responsiveLayout(),n._layout(),n.positionateItems(),n._resizeMainContainer(),"slider"===n.options.layoutMode&&n._updateSlider(),n.elems&&o.Public.showCounter.call(n.obj,n.elems),n.$obj.trigger("appendItemsFinish.cbp"),e.isFunction(i)&&i.call(n)})}}),e.fn.cubeportfolio=function(e,t,i){return this.each(function(){if("object"==typeof e||!e)return o.Public.init.call(this,e,i);if(o.Public[e])return o.Public[e].call(this,t,i);throw new Error("Method "+e+" does not exist on jquery.cubeportfolio.js")})},e.fn.cubeportfolio.options={layoutMode:"grid",drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"lazyLoading",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:function(){},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:function(){}},o.Plugins={},e.fn.cubeportfolio.Constructor=o
}(jQuery,window,document),function(e,t,i){"use strict";function n(e){var t=this;t.parent=e,e.options.lightboxShowCounter===!1&&(e.options.lightboxCounter=""),e.options.singlePageShowCounter===!1&&(e.options.singlePageCounter=""),t.run()}var o=e.fn.cubeportfolio.Constructor,r={init:function(t,i){var n,o=this;if(o.cubeportfolio=t,o.type=i,o.isOpen=!1,o.options=o.cubeportfolio.options,"lightbox"===i&&o.cubeportfolio._registerEvent("resizeWindow",function(){o.resizeImage()}),"singlePageInline"===i)return o.startInline=-1,o.height=0,o._createMarkupSinglePageInline(),void o.cubeportfolio._registerEvent("resizeGrid",function(){o.isOpen&&o.close()});if(o._createMarkup(),"singlePage"===i&&(o.cubeportfolio._registerEvent("resizeWindow",function(){if(o.options.singlePageStickyNavigation){var e=o.wrap[0].clientWidth;e>0&&(o.navigationWrap.width(e),o.navigation.width(e))}}),o.options.singlePageDeeplinking)){o.url=location.href,"#"===o.url.slice(-1)&&(o.url=o.url.slice(0,-1));var r=o.url.split("#cbp="),s=r.shift();if(e.each(r,function(t,i){return e.each(o.cubeportfolio.blocksOn,function(e,t){var r=t.elFront.find(o.options.singlePageDelegate+'[href="'+i+'"]');return r.length?(n=r,!1):void 0}),n?!1:void 0}),n){o.url=s;var a=n,l=a.attr("data-cbp-singlePage"),c=[];l?c=a.closest(e(".cbp-item")).find('[data-cbp-singlePage="'+l+'"]'):e.each(o.cubeportfolio.blocksOn,function(t,i){i.elFront.not(".cbp-item-off")&&i.elFront.find(o.options.singlePageDelegate).each(function(t,i){e(i).attr("data-cbp-singlePage")||c.push(i)})}),o.openSinglePage(c,n[0])}}},_createMarkup:function(){var t=this,n="";"singlePage"===t.type&&"left"!==t.options.singlePageAnimation&&(n=" cbp-popup-singlePage-"+t.options.singlePageAnimation),t.wrap=e("<div/>",{"class":"cbp-popup-wrap cbp-popup-"+t.type+n,"data-action":"lightbox"===t.type?"close":""}).on("click.cbp",function(i){if(!t.stopEvents){var n=e(i.target).attr("data-action");t[n]&&(t[n](),i.preventDefault())}}),t.content=e("<div/>",{"class":"cbp-popup-content"}).appendTo(t.wrap),e("<div/>",{"class":"cbp-popup-loadingBox"}).appendTo(t.wrap),"ie8"===o.Private.browser&&(t.bg=e("<div/>",{"class":"cbp-popup-ie8bg","data-action":"lightbox"===t.type?"close":""}).appendTo(t.wrap)),t.navigationWrap=e("<div/>",{"class":"cbp-popup-navigation-wrap"}).appendTo(t.wrap),t.navigation=e("<div/>",{"class":"cbp-popup-navigation"}).appendTo(t.navigationWrap),t.closeButton=e("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(t.navigation),t.nextButton=e("<div/>",{"class":"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(t.navigation),t.prevButton=e("<div/>",{"class":"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(t.navigation),"singlePage"===t.type&&(t.options.singlePageCounter&&(t.counter=e(t.options.singlePageCounter).appendTo(t.navigation),t.counter.text("")),t.content.on("click.cbp",t.options.singlePageDelegate,function(e){e.preventDefault();var i,n=t.dataArray.length,o=this.getAttribute("href");for(i=0;n>i&&t.dataArray[i].url!==o;i++);t.singlePageJumpTo(i-t.current)}),t.wrap.on("mousewheel.cbp DOMMouseScroll.cbp",function(e){e.stopImmediatePropagation()})),e(i).on("keydown.cbp",function(e){t.isOpen&&(t.stopEvents||(37===e.keyCode?t.prev():39===e.keyCode?t.next():27===e.keyCode&&t.close()))})},_createMarkupSinglePageInline:function(){var t=this;t.wrap=e("<div/>",{"class":"cbp-popup-singlePageInline"}).on("click.cbp",function(i){if(!t.stopEvents){var n=e(i.target).attr("data-action");n&&t[n]&&(t[n](),i.preventDefault())}}),t.content=e("<div/>",{"class":"cbp-popup-content"}).appendTo(t.wrap),t.navigation=e("<div/>",{"class":"cbp-popup-navigation"}).appendTo(t.wrap),t.closeButton=e("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(t.navigation)},destroy:function(){var t=this,n=e("body");e(i).off("keydown.cbp"),n.off("click.cbp",t.options.lightboxDelegate),n.off("click.cbp",t.options.singlePageDelegate),t.content.off("click.cbp",t.options.singlePageDelegate),t.cubeportfolio.$obj.off("click.cbp",t.options.singlePageInlineDelegate),t.cubeportfolio.$obj.off("click.cbp",t.options.lightboxDelegate),t.cubeportfolio.$obj.off("click.cbp",t.options.singlePageDelegate),t.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),t.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),t.wrap.remove()},openLightbox:function(n,o){var r,s,a=this,l=0,c=[];if(!a.isOpen){if(a.isOpen=!0,a.stopEvents=!1,a.dataArray=[],a.current=null,r=o.getAttribute("href"),null===r)throw new Error("HEI! Your clicked element doesn't have a href attribute.");e.each(n,function(t,i){var n,o=i.getAttribute("href"),s=o,p="isImage";if(-1===e.inArray(o,c)){if(r===o)a.current=l;else if(!a.options.lightboxGallery)return;/youtube/i.test(o)?(n=o.substring(o.lastIndexOf("v=")+2),/autoplay=/i.test(n)||(n+="&autoplay=1"),n=n.replace(/\?|&/,"?"),s="//www.youtube.com/embed/"+n,p="isYoutube"):/vimeo/i.test(o)?(n=o.substring(o.lastIndexOf("/")+1),/autoplay=/i.test(n)||(n+="&autoplay=1"),n=n.replace(/\?|&/,"?"),s="//player.vimeo.com/video/"+n,p="isVimeo"):/ted\.com/i.test(o)?(s="http://embed.ted.com/talks/"+o.substring(o.lastIndexOf("/")+1)+".html",p="isTed"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(o)&&(s=o.split(-1!==o.indexOf("|")?"|":"%7C"),p="isSelfHosted"),a.dataArray.push({src:s,title:i.getAttribute(a.options.lightboxTitleSrc),type:p}),l++}c.push(o)}),a.counterTotal=a.dataArray.length,1===a.counterTotal?(a.nextButton.hide(),a.prevButton.hide(),a.dataActionImg=""):(a.nextButton.show(),a.prevButton.show(),a.dataActionImg='data-action="next"'),a.wrap.appendTo(i.body),a.scrollTop=e(t).scrollTop(),a.originalStyle=e("html").attr("style"),e("html").css({overflow:"hidden",paddingRight:t.innerWidth-e(i).width()}),a.wrap.show(),s=a.dataArray[a.current],a[s.type](s)}},openSinglePage:function(n,r){var s,a=this,l=0,c=[];if(!a.isOpen){if(a.cubeportfolio.singlePageInline&&a.cubeportfolio.singlePageInline.isOpen&&a.cubeportfolio.singlePageInline.close(),a.isOpen=!0,a.stopEvents=!1,a.dataArray=[],a.current=null,s=r.getAttribute("href"),null===s)throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(e.each(n,function(t,i){var n=i.getAttribute("href");-1===e.inArray(n,c)&&(s===n&&(a.current=l),a.dataArray.push({url:n,element:i}),l++),c.push(n)}),a.counterTotal=a.dataArray.length,1===a.counterTotal?(a.nextButton.hide(),a.prevButton.hide()):(a.nextButton.show(),a.prevButton.show()),a.wrap.appendTo(i.body),a.scrollTop=e(t).scrollTop(),e("html").css({overflow:"hidden",paddingRight:t.innerWidth-e(i).width()}),a.wrap.scrollTop(0),a.wrap.show(),a.finishOpen=2,a.navigationMobile=e(),a.wrap.one(o.Private.transitionend,function(){var t;a.options.singlePageStickyNavigation&&(a.wrap.addClass("cbp-popup-singlePage-sticky"),t=a.wrap[0].clientWidth,a.navigationWrap.width(t),("android"===o.Private.browser||"ios"===o.Private.browser)&&(a.navigationMobile=e("<div/>",{"class":"cbp-popup-singlePage cbp-popup-singlePage-sticky",id:a.wrap.attr("id")}).on("click.cbp",function(t){if(!a.stopEvents){var i=e(t.target).attr("data-action");a[i]&&(a[i](),t.preventDefault())}}),a.navigationMobile.appendTo(i.body).append(a.navigationWrap))),a.finishOpen--,a.finishOpen<=0&&a.updateSinglePageIsOpen.call(a)}),"ie8"===o.Private.browser||"ie9"===o.Private.browser){if(a.options.singlePageStickyNavigation){var p=a.wrap[0].clientWidth;a.navigationWrap.width(p),setTimeout(function(){a.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)}a.finishOpen--}a.wrap.addClass("cbp-popup-loading"),a.wrap.offset(),a.wrap.addClass("cbp-popup-singlePage-open"),a.options.singlePageDeeplinking&&(a.url=a.url.split("#cbp=")[0],location.href=a.url+"#cbp="+a.dataArray[a.current].url),e.isFunction(a.options.singlePageCallback)&&a.options.singlePageCallback.call(a,a.dataArray[a.current].url,a.dataArray[a.current].element)}},openSinglePageInline:function(i,n,o){var r,s,a,l,c=this;if(o=o||!1,c.fromOpen=o,c.storeBlocks=i,c.storeCurrentBlock=n,c.isOpen)return s=e(n).closest(".cbp-item").index(),void(c.dataArray[c.current].url!==n.getAttribute("href")||c.current!==s?c.cubeportfolio.singlePageInline.close("open",{blocks:i,currentBlock:n,fromOpen:!0}):c.close());if(c.isOpen=!0,c.stopEvents=!1,c.dataArray=[],c.current=null,r=n.getAttribute("href"),null===r)throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(a=e(n).closest(".cbp-item")[0],e.each(i,function(e,t){a===t.elFront[0]&&(c.current=e)}),c.dataArray[c.current]={url:r,element:n},l=e(c.dataArray[c.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),c.counterTotal=i.length,c.wrap.insertBefore(c.cubeportfolio.wrapper),"top"===c.options.singlePageInlinePosition?(c.startInline=0,c.top=0,c.firstRow=!0,c.lastRow=!1):"bottom"===c.options.singlePageInlinePosition?(c.startInline=c.counterTotal,c.top=c.cubeportfolio.height,c.firstRow=!1,c.lastRow=!0):"above"===c.options.singlePageInlinePosition?(c.startInline=c.cubeportfolio.cols*Math.floor(c.current/c.cubeportfolio.cols),c.top=i[c.current].top,0===c.startInline?c.firstRow=!0:(c.top-=c.options.gapHorizontal,c.firstRow=!1),c.lastRow=!1):(c.top=i[c.current].top+i[c.current].height,c.startInline=Math.min(c.cubeportfolio.cols*(Math.floor(c.current/c.cubeportfolio.cols)+1),c.counterTotal),c.firstRow=!1,c.lastRow=c.startInline===c.counterTotal?!0:!1),c.wrap[0].style.height=c.wrap.outerHeight(!0)+"px",c.deferredInline=e.Deferred(),c.options.singlePageInlineInFocus){c.scrollTop=e(t).scrollTop();var p=c.cubeportfolio.$obj.offset().top+c.top-100;c.scrollTop!==p?e("html,body").animate({scrollTop:p},350).promise().then(function(){c._resizeSinglePageInline(),c.deferredInline.resolve()}):(c._resizeSinglePageInline(),c.deferredInline.resolve())}else c._resizeSinglePageInline(),c.deferredInline.resolve();c.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),c.wrap.css({top:c.top}),e.isFunction(c.options.singlePageInlineCallback)&&c.options.singlePageInlineCallback.call(c,c.dataArray[c.current].url,c.dataArray[c.current].element)},_resizeSinglePageInline:function(){var e,t,i,n=this;for(n.height=n.firstRow||n.lastRow?n.wrap.outerHeight(!0):n.wrap.outerHeight(!0)-n.options.gapHorizontal,e=0,t=n.storeBlocks.length;t>e;e++)i=n.storeBlocks[e],e<n.startInline?o.Private.modernBrowser?(i.el[0].style[o.Private.transform]="",i.elClone&&(i.elClone[0].style[o.Private.transform]="")):i.el[0].style.marginTop="":o.Private.modernBrowser?(i.el[0].style[o.Private.transform]="translate3d(0px, "+n.height+"px, 0)",i.elClone&&(i.elClone[0].style[o.Private.transform]="translate3d(0px, "+n.height+"px, 0)")):i.el[0].style.marginTop=n.height+"px";n.cubeportfolio.obj.style.height=n.cubeportfolio.height+n.height+"px"},_revertResizeSinglePageInline:function(){var t,i,n,r=this;for(r.deferredInline=e.Deferred(),t=0,i=r.storeBlocks.length;i>t;t++)n=r.storeBlocks[t],o.Private.modernBrowser?(n.el[0].style[o.Private.transform]="",n.elClone&&(n.elClone[0].style[o.Private.transform]="")):n.el[0].style.marginTop="";r.cubeportfolio.obj.style.height=r.cubeportfolio.height+"px"},appendScriptsToWrap:function(e){var t=this,n=0,o=function(r){var s=i.createElement("script"),a=r.src;s.type="text/javascript",s.readyState?s.onreadystatechange=function(){("loaded"==s.readyState||"complete"==s.readyState)&&(s.onreadystatechange=null,n++,e[n]&&o(e[n]))}:s.onload=function(){n++,e[n]&&o(e[n])},a?s.src=a:s.text=r.text,t.content[0].appendChild(s)};o(e[0])},updateSinglePage:function(t,i,n){var o,r=this;r.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),n===!1&&r.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),r.counter&&(o=e(r._getCounterMarkup(r.options.singlePageCounter,r.current+1,r.counterTotal)),r.counter.text(o.text())),r.content.html(t),i&&r.appendScriptsToWrap(i),r.finishOpen--,r.finishOpen<=0&&r.updateSinglePageIsOpen.call(r)},updateSinglePageIsOpen:function(){var t,i=this;i.wrap.addClass("cbp-popup-ready"),i.wrap.removeClass("cbp-popup-loading"),t=i.content.find(".cbp-slider"),t?(t.find(".cbp-slider-item").addClass("cbp-item"),i.slider=t.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",ratioAuto:!0})):i.slider=null,("android"===o.Private.browser||"ios"===o.Private.browser)&&e("html").css({position:"fixed"}),i.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},updateSinglePageInline:function(e,t){var i=this;i.content.html(e),t&&i.appendScriptsToWrap(t),i.singlePageInlineIsOpen.call(i)},singlePageInlineIsOpen:function(){function e(){t.wrap.addClass("cbp-popup-singlePageInline-ready"),t.wrap[0].style.height="",t._resizeSinglePageInline(),t.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}var t=this;t.cubeportfolio._load(t.wrap,function(){var i=t.content.find(".cbp-slider");i.length?(i.find(".cbp-slider-item").addClass("cbp-item"),i.one("initComplete.cbp",function(){t.deferredInline.done(e)}),i.on("pluginResize.cbp",function(){t.deferredInline.done(e)}),t.slider=i.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",ratioAuto:!0})):(t.slider=null,t.deferredInline.done(e))})},isImage:function(t){var i=this,n=new Image;i.tooggleLoading(!0),e('<img src="'+t.src+'">').is("img:uncached")?(e(n).on("load.cbp error.cbp",function(){i.updateImagesMarkup(t.src,t.title,i._getCounterMarkup(i.options.lightboxCounter,i.current+1,i.counterTotal)),i.tooggleLoading(!1)}),n.src=t.src):(i.updateImagesMarkup(t.src,t.title,i._getCounterMarkup(i.options.lightboxCounter,i.current+1,i.counterTotal)),i.tooggleLoading(!1))},isVimeo:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isYoutube:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isTed:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHosted:function(e){var t=this;t.updateSelfHostedVideo(e.src,e.title,t._getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},_getCounterMarkup:function(e,t,i){if(!e.length)return"";var n={current:t,total:i};return e.replace(/\{\{current}}|\{\{total}}/gi,function(e){return n[e.slice(2,-2)]})},updateSelfHostedVideo:function(e,t,i){var n,o=this;o.wrap.addClass("cbp-popup-lightbox-isIframe");var r='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(n=0;n<e.length;n++)/(\.mp4)/i.test(e[n])?r+='<source src="'+e[n]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(e[n])?r+='<source src="'+e[n]+'" type="video/ogg">':/(\.webm)/i.test(e[n])&&(r+='<source src="'+e[n]+'" type="video/webm">');r+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+i+"</div></div>",o.content.html(r),o.wrap.addClass("cbp-popup-ready"),o.preloadNearbyImages()},updateVideoMarkup:function(e,t,i){var n=this;n.wrap.addClass("cbp-popup-lightbox-isIframe");var o='<div class="cbp-popup-lightbox-iframe"><iframe src="'+e+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+i+"</div></div>";n.content.html(o),n.wrap.addClass("cbp-popup-ready"),n.preloadNearbyImages()},updateImagesMarkup:function(e,t,i){var n=this;n.wrap.removeClass("cbp-popup-lightbox-isIframe");var o='<div class="cbp-popup-lightbox-figure"><img src="'+e+'" class="cbp-popup-lightbox-img" '+n.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+i+"</div></div>";n.content.html(o),n.wrap.addClass("cbp-popup-ready"),n.resizeImage(),n.preloadNearbyImages()},next:function(){var e=this;e[e.type+"JumpTo"](1)},prev:function(){var e=this;e[e.type+"JumpTo"](-1)},lightboxJumpTo:function(e){var t,i=this;i.current=i.getIndex(i.current+e),t=i.dataArray[i.current],i[t.type](t)},singlePageJumpTo:function(t){var i=this;i.current=i.getIndex(i.current+t),e.isFunction(i.options.singlePageCallback)&&(i.resetWrap(),i.wrap.scrollTop(0),i.wrap.addClass("cbp-popup-loading"),i.options.singlePageCallback.call(i,i.dataArray[i.current].url,i.dataArray[i.current].element),i.options.singlePageDeeplinking&&(location.href=i.url+"#cbp="+i.dataArray[i.current].url))},resetWrap:function(){var e=this;"singlePage"===e.type&&e.options.singlePageDeeplinking&&(location.href=e.url+"#")},getIndex:function(e){var t=this;return e%=t.counterTotal,0>e&&(e=t.counterTotal+e),e},close:function(i,n){function r(){a.content.html(""),a.wrap.detach(),a.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),"promise"===i&&e.isFunction(n.callback)&&n.callback.call(a.cubeportfolio)}function s(){a.options.singlePageInlineInFocus&&"promise"!==i?e("html,body").animate({scrollTop:a.scrollTop},350).promise().then(function(){r()}):r()}var a=this;a.isOpen=!1,"singlePageInline"===a.type?"open"===i?(a.wrap.removeClass("cbp-popup-singlePageInline-ready"),e(a.dataArray[a.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),a.openSinglePageInline(n.blocks,n.currentBlock,n.fromOpen)):(a.height=0,a._revertResizeSinglePageInline(),a.wrap.removeClass("cbp-popup-singlePageInline-ready"),a.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),a.startInline=-1,a.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),o.Private.modernBrowser?a.wrap.one(o.Private.transitionend,function(){s()}):s()):"singlePage"===a.type?(a.resetWrap(),a.wrap.removeClass("cbp-popup-ready"),("android"===o.Private.browser||"ios"===o.Private.browser)&&(e("html").css({position:""}),a.navigationWrap.appendTo(a.wrap),a.navigationMobile.remove()),e(t).scrollTop(a.scrollTop),setTimeout(function(){a.stopScroll=!0,a.navigationWrap.css({top:a.wrap.scrollTop()}),a.wrap.removeClass("cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),("ie8"===o.Private.browser||"ie9"===o.Private.browser)&&(a.content.html(""),a.wrap.detach(),e("html").css({overflow:"",paddingRight:"",position:""}),a.navigationWrap.removeAttr("style"))},0),a.wrap.one(o.Private.transitionend,function(){a.content.html(""),a.wrap.detach(),e("html").css({overflow:"",paddingRight:"",position:""}),a.navigationWrap.removeAttr("style")})):(a.originalStyle?e("html").attr("style",a.originalStyle):e("html").css({overflow:"",paddingRight:""}),e(t).scrollTop(a.scrollTop),a.content.html(""),a.wrap.detach())},tooggleLoading:function(e){var t=this;t.stopEvents=e,t.wrap[e?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var i=e(t).height(),n=this.content.find("img"),o=parseInt(n.css("margin-top"),10)+parseInt(n.css("margin-bottom"),10);n.css("max-height",i-o+"px")}},preloadNearbyImages:function(){var t,i,n=[],o=this;n.push(o.getIndex(o.current+1)),n.push(o.getIndex(o.current+2)),n.push(o.getIndex(o.current+3)),n.push(o.getIndex(o.current-1)),n.push(o.getIndex(o.current-2)),n.push(o.getIndex(o.current-3));for(var r=n.length-1;r>=0;r--)"isImage"===o.dataArray[n[r]].type&&(i=o.dataArray[n[r]].src,t=new Image,e('<img src="'+i+'">').is("img:uncached")&&(t.src=i))}},s=!1,a=!1;n.prototype.run=function(){var t=this,n=t.parent,o=e(i.body);n.lightbox=null,n.$obj.find(n.options.lightboxDelegate)&&!s&&(s=!0,n.lightbox=Object.create(r),n.lightbox.init(n,"lightbox"),o.on("click.cbp",n.options.lightboxDelegate,function(i){i.preventDefault();var o=e(this),r=o.attr("data-cbp-lightbox"),s=t.detectScope(o),a=s.data("cubeportfolio"),l=[];a?e.each(a.blocksOn,function(t,i){i.elFront.not(".cbp-item-off")&&i.elFront.find(n.options.lightboxDelegate).each(function(t,i){r?e(i).attr("data-cbp-lightbox")===r&&l.push(i):l.push(i)})}):l=s.find(r?n.options.lightboxDelegate+"[data-cbp-lightbox="+r+"]":n.options.lightboxDelegate),n.lightbox.openLightbox(l,o[0])})),n.singlePage=null,n.$obj.find(n.options.singlePageDelegate)&&!a&&(a=!0,n.singlePage=Object.create(r),n.singlePage.init(n,"singlePage"),o.on("click.cbp",n.options.singlePageDelegate,function(i){i.preventDefault();var o=e(this),r=o.attr("data-cbp-singlePage"),s=t.detectScope(o),a=s.data("cubeportfolio"),l=[];a?e.each(a.blocksOn,function(t,i){i.elFront.not(".cbp-item-off")&&i.elFront.find(n.options.singlePageDelegate).each(function(t,i){r?e(i).attr("data-cbp-singlePage")===r&&l.push(i):l.push(i)})}):l=s.find(r?n.options.singlePageDelegate+"[data-cbp-singlePage="+r+"]":n.options.singlePageDelegate),n.singlePage.openSinglePage(l,o[0])})),n.singlePageInline=null,n.$obj.find(n.options.singlePageInlineDelegate)&&(n.singlePageInline=Object.create(r),n.singlePageInline.init(n,"singlePageInline"),n.$obj.on("click.cbp",n.options.singlePageInlineDelegate,function(e){e.preventDefault(),n.singlePageInline.openSinglePageInline(n.blocksOn,this)}))},n.prototype.detectScope=function(t){var n,o,r;return n=t.closest(".cbp-popup-singlePageInline"),n.length?(r=t.closest(".cbp",n[0]),r.length?r:n):(o=t.closest(".cbp-popup-singlePage"),o.length?(r=t.closest(".cbp",o[0]),r.length?r:o):(r=t.closest(".cbp"),r.length?r:e(i.body)))},n.prototype.destroy=function(){var t=this.parent;e(i.body).off("click.cbp"),s=!1,a=!1,t.lightbox&&t.lightbox.destroy(),t.singlePage&&t.singlePage.destroy(),t.singlePageInline&&t.singlePageInline.destroy()},o.Plugins.PopUp=function(e){return new n(e)}}(jQuery,window,document),function(e,t,i,n){"use strict";var o=e.fn.cubeportfolio.Constructor;o.Private={checkInstance:function(t){var i=e.data(this,"cubeportfolio");if(!i)throw new Error("cubeportfolio is not initialized. Initialize it before calling "+t+" method!");return i},browserInfo:function(){var e,i,r,s=o.Private,a=navigator.appVersion;s.browser=-1!==a.indexOf("MSIE 8.")?"ie8":-1!==a.indexOf("MSIE 9.")?"ie9":-1!==a.indexOf("MSIE 10.")?"ie10":t.ActiveXObject||"ActiveXObject"in t?"ie11":/android/gi.test(a)?"android":/iphone|ipad|ipod/gi.test(a)?"ios":/chrome/gi.test(a)?"chrome":"",r=s.styleSupport("perspective"),typeof r!==n&&(e=s.styleSupport("transition"),s.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[e],i=s.styleSupport("animation"),s.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[i],s.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[i],s.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[i],s.transform=s.styleSupport("transform"),e&&i&&s.transform&&(s.modernBrowser=!0))},styleSupport:function(e){var t,n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1),o=i.createElement("div");return e in o.style?t=e:n in o.style&&(t=n),o=null,t}},o.Private.browserInfo()}(jQuery,window,document),function(e,t,i){"use strict";var n=e.fn.cubeportfolio.Constructor;n.Public={init:function(e,t){new n(this,e,t)},destroy:function(o){var r=n.Private.checkInstance.call(this,"destroy");e.removeData(this,"cubeportfolio"),e.each(r.blocks,function(){e.removeData(this,"transformFn"),e.removeData(this,"cbp-wxh")}),r.$obj.removeClass("cbp cbp-ready cbp-cols-"+r.cols).removeAttr("style"),r.$ul.removeClass("cbp-wrapper"),e(t).off("resize.cbp"),r.$obj.off(".cbp"),e(i).off(".cbp"),r.blocks.removeClass("cbp-item-off").removeAttr("style"),r.blocks.find(".cbp-item-wrapper").children().unwrap(),r.options.caption&&r._captionDestroy(),r._destroySlider(),r.$ul.unwrap(),r.addedWrapp&&r.blocks.unwrap(),e.each(r._plugins,function(e,t){"function"==typeof t.destroy&&t.destroy()}),e.isFunction(o)&&o.call(r)},filter:function(t,i){var o,r=n.Private.checkInstance.call(this,"filter");e.isFunction(i)&&r._registerEvent("filterFinish",i,!0),r.isAnimating||r.defaultFilter===t||(r.isAnimating=!0,r.defaultFilter=t,r.singlePageInline&&r.singlePageInline.isOpen?r.singlePageInline.close("promise",{callback:function(){r._filter(t)}}):r._filter(t),r.options.filterDeeplinking&&(o=location.href.replace(/#cbpf=(.*?)([#|?&]|$)/gi,""),location.href=o+"#cbpf="+t,r.singlePage&&r.singlePage.url&&(r.singlePage.url=location.href)))},showCounter:function(t,i){var o=n.Private.checkInstance.call(this,"showCounter");o.elems=t,e.each(t,function(){var t,i=e(this),n=i.data("filter");t=o.blocks.filter(n).length,i.find(".cbp-filter-counter").text(t)}),e.isFunction(i)&&i.call(o)},appendItems:function(e,t){var i=n.Private.checkInstance.call(this,"appendItems");i.singlePageInline&&i.singlePageInline.isOpen?i.singlePageInline.close("promise",{callback:function(){i._addItems(e,t)}}):i._addItems(e,t)}}}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),jQuery.expr[":"].uncached=function(e){if(!jQuery(e).is('img[src][src!=""]'))return!1;var t=new Image;return t.src=e.src,t.complete?void 0!==t.naturalWidth&&0===t.naturalWidth?!0:!1:!0},function(){for(var e=0,t=["moz","webkit"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),o=window.setTimeout(function(){t(i+n)},n);return e=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){function t(e){var t=this;t.parent=e,e._registerEvent("filterBeforeLayout",function(){e.$obj.addClass("cbp-animation-"+e.options.animationType)},!0),e._registerEvent("filterBeforeLayout",function(){e.$obj.addClass("cbp-transition-active")}),e.filterLayout=t.filterLayout,e._registerEvent("delayFrame",function(){var t,i;if("*"!==e.defaultFilter)for(i=e.blocksObj.length-1;i>=0;i--)t=e.blocksObj[i],t.el.hasClass("cbp-item-off")&&(t.el[0].style.visibility="hidden")})}var i=e.fn.cubeportfolio.Constructor;t.prototype.filterLayout=function(e){function t(){var e,t;for(s.$obj.removeClass("cbp-transition-active"),e=s.blocksObj.length-1;e>=0;e--)t=s.blocksObj[e],t.left=t.leftNew,t.top=t.topNew,t.el[0].style.left=t.left+"px",t.el[0].style.top=t.top+"px",t.el[0].style[i.Private.transform]="";s.filterDeferred.resolve()}var n,o,r,s=this;for(o=s.blocksObj.length-1;o>=0;o--)n=s.blocksObj[o],n.el.is(e)?n.el.hasClass("cbp-item-off")?(n.wrapper[0].setAttribute("class","cbp-item-wrapper cbp-item-off2on"),n.el[0].style.left=n.leftNew+"px",n.el[0].style.top=n.topNew+"px",n.el[0].style.visibility="",n.el.removeClass("cbp-item-off")):(n.el[0].style[i.Private.transform]="translate3d("+(n.leftNew-n.left)+"px, "+(n.topNew-n.top)+"px, 0)",r=n.el):(n.el.hasClass("cbp-item-off")||n.wrapper[0].setAttribute("class","cbp-item-wrapper cbp-item-on2off"),n.el.addClass("cbp-item-off"));r?r.one(i.Private.transitionend,function(){t()}):t()},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},i.Plugins.AnimationClassic=function(n){return!i.Private.modernBrowser||e.inArray(n.options.animationType,["quicksand","fadeOut","flipOut","flipBottom","scaleSides","skew","boxShadow"])<0?null:new t(n)}}(jQuery,window,document),function(e){function t(t){var i,n=this;n.parent=i=t,t._registerEvent("filterBeforeLayout",function(){t.$ulClone[0].style.display="",t.$obj.addClass("cbp-animation-"+t.options.animationType)},!0),t._registerEvent("initFinish",function(){t.$ulClone=t.$ul.clone(),t.$ulClone[0].style.display="none",t.$ulClone.children(".cbp-item").each(function(i,n){n=e(n),t.blocksObj[i].elClone=n,t.blocksObj[i].wrapperClone=n.children()}),t.$ulClone.insertAfter(t.$ul),t.wrapperFront=!0}),t._registerEvent("filterBeforeLayout",function(){t.$obj.addClass("cbp-transition-active"),t.wrapperFront?(t.$ul.removeClass("cbp-wrapper-front"),t.$ulClone.addClass("cbp-wrapper-front"),t.wrapperFront=!1):(t.$ul.addClass("cbp-wrapper-front"),t.$ulClone.removeClass("cbp-wrapper-front"),t.wrapperFront=!0)}),t._registerEvent("addItemsToDOM",function(i){var n=i.clone(),o=n.length,r=t.blocksObj.length;n.appendTo(t.$ulClone),n.each(function(i,n){n=e(n),t.blocksObj[r+i-o].elClone=n,t.blocksObj[r+i-o].wrapperClone=n.children(),t.wrapperFront||(t.blocksObj[r+i-o].elFront=n)})}),t.filterLayout=n.filterLayout}var i=e.fn.cubeportfolio.Constructor;t.prototype.filterLayout=function(e){function t(){var e,t;for(d.$obj.removeClass("cbp-transition-active"),e=d.blocksObj.length-1;e>=0;e--)t=d.blocksObj[e],t.left=t.leftNew,t.top=t.topNew,t.el[0].style.left=t.left+"px",t.el[0].style.top=t.top+"px";d.filterDeferred.resolve()}var n,o,r,s,a,l,c,p,d=this;for(o=0,r=d.blocksObj.length;r>o;o++)n=d.blocksObj[o],d.wrapperFront?(s=n.elClone,a=n.el,l=n.wrapperClone,c=n.wrapper,n.elFront=n.el):(s=n.el,a=n.elClone,l=n.wrapper,c=n.wrapperClone,n.elFront=n.elClone),s.hasClass("cbp-item-off")||l[0].setAttribute("class","cbp-item-wrapper cbp-item-on2off"),a.is(e)?(a[0].style.left=n.leftNew+"px",a[0].style.top=n.topNew+"px",c[0].setAttribute("class","cbp-item-wrapper cbp-item-off2on"),a.removeClass("cbp-item-off"),p=c):a.addClass("cbp-item-off");p?p.one(i.Private.animationend,function(){t()}):t()},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.$ul.removeClass("cbp-wrapper-front").removeAttr("style"),e.$ulClone&&e.$ulClone.remove()},i.Plugins.AnimationClone=function(n){return!i.Private.modernBrowser||e.inArray(n.options.animationType,["fadeOutTop","slideLeft"])<0?null:new t(n)}}(jQuery,window,document),function(e){function t(t){var i=this;i.parent=t,t._registerEvent("filterBeforeLayout",function(){t.$ulClone[0].style.display="",t.$obj.addClass("cbp-animation-"+t.options.animationType)},!0),t._registerEvent("initFinish",function(){t.$ulClone=t.$ul.clone(),t.$ulClone[0].style.display="none",t.$ulClone.children(".cbp-item").each(function(i,n){n=e(n),t.blocksObj[i].elClone=n,t.blocksObj[i].wrapperClone=n.children()}),t.$ulClone.insertAfter(t.$ul),t.wrapperFront=!0}),t._registerEvent("filterBeforeLayout",function(){t.wrapperFront?(t.$ul.removeClass("cbp-wrapper-front"),t.$ulClone.addClass("cbp-wrapper-front"),t.wrapperFront=!1):(t.$ul.addClass("cbp-wrapper-front"),t.$ulClone.removeClass("cbp-wrapper-front"),t.wrapperFront=!0)}),t._registerEvent("addItemsToDOM",function(i){var n=i.clone(),o=n.length,r=t.blocksObj.length;n.appendTo(t.$ulClone),n.each(function(i,n){n=e(n),t.blocksObj[r+i-o].elClone=n,t.blocksObj[r+i-o].wrapperClone=n.children(),t.wrapperFront||(t.blocksObj[r+i-o].elFront=n)})}),t.filterLayout=i.filterLayout}var i=e.fn.cubeportfolio.Constructor;t.prototype.filterLayout=function(e){function t(){var e,t;for(e=d.blocksObj.length-1;e>=0;e--)t=d.blocksObj[e],t.left=t.leftNew,t.top=t.topNew,t.el[0].style.left=t.left+"px",t.el[0].style.top=t.top+"px";d.filterDeferred.resolve()}var n,o,r,s,a,l,c,p,d=this,u=0,h=0;for(o=0,r=d.blocksObj.length;r>o;o++)n=d.blocksObj[o],d.wrapperFront?(s=n.elClone,a=n.el,l=n.wrapperClone,c=n.wrapper,n.elFront=n.el):(s=n.el,a=n.elClone,l=n.wrapper,c=n.wrapperClone,n.elFront=n.elClone),s.hasClass("cbp-item-off")||(l[0].style[i.Private.animationDelay]=50*h+"ms",h++,l[0].setAttribute("class","cbp-item-wrapper cbp-item-on2off")),a.is(e)?(a[0].style.left=n.leftNew+"px",a[0].style.top=n.topNew+"px",c[0].setAttribute("class","cbp-item-wrapper cbp-item-off2on"),c[0].style[i.Private.animationDelay]=50*u+"ms",u++,a.removeClass("cbp-item-off"),p=c):a.addClass("cbp-item-off");p?p.one(i.Private.animationend,function(){t()}):t()},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.$ul.removeClass("cbp-wrapper-front").removeAttr("style"),e.$ulClone&&e.$ulClone.remove()},i.Plugins.AnimationCloneDelay=function(n){return!i.Private.modernBrowser||e.inArray(n.options.animationType,["3dflip","flipOutDelay","slideDelay","rotateSides","foldLeft","unfold","scaleDown","frontRow","rotateRoom"])<0?null:new t(n)
}}(jQuery,window,document),function(e){function t(t){var i=this;i.parent=t,t._registerEvent("filterBeforeLayout",function(){t.$ulClone[0].style.display="",t.$obj.addClass("cbp-animation-"+t.options.animationType)},!0),t._registerEvent("initFinish",function(){t.$ulClone=t.$ul.clone(),t.$ulClone[0].style.display="none",t.$ulClone.children(".cbp-item").each(function(i,n){n=e(n),t.blocksObj[i].elClone=n,t.blocksObj[i].wrapperClone=n.children()}),t.$ulClone.insertAfter(t.$ul),t.wrapperFront=!0}),t._registerEvent("filterBeforeLayout",function(){t.$obj.addClass("cbp-transition-active"),t.wrapperFront?(t.$ul.removeClass("cbp-wrapper-front"),t.$ulClone.addClass("cbp-wrapper-front"),t.wrapperFront=!1):(t.$ul.addClass("cbp-wrapper-front"),t.$ulClone.removeClass("cbp-wrapper-front"),t.wrapperFront=!0)}),t._registerEvent("addItemsToDOM",function(i){var n=i.clone(),o=n.length,r=t.blocksObj.length;n.appendTo(t.$ulClone),n.each(function(i,n){n=e(n),t.blocksObj[r+i-o].elClone=n,t.blocksObj[r+i-o].wrapperClone=n.children(),t.wrapperFront||(t.blocksObj[r+i-o].elFront=n)})}),t.filterLayout=i.filterLayout}var i=e.fn.cubeportfolio.Constructor;t.prototype.filterLayout=function(e){function t(){var e,t;for(d.$obj.removeClass("cbp-transition-active"),e=d.blocksObj.length-1;e>=0;e--)t=d.blocksObj[e],t.left=t.leftNew,t.top=t.topNew,t.el[0].style.left=t.left+"px",t.el[0].style.top=t.top+"px",t.wrapper[0].style[i.Private.animationDelay]="",t.wrapperClone[0].style[i.Private.animationDelay]="";d.filterDeferred.resolve()}var n,o,r,s,a,l,c,p,d=this,u=0;for(o=0,r=d.blocksObj.length;r>o;o++)n=d.blocksObj[o],d.wrapperFront?(s=n.elClone,a=n.el,l=n.wrapperClone,c=n.wrapper,n.elFront=n.el):(s=n.el,a=n.elClone,l=n.wrapper,c=n.wrapperClone,n.elFront=n.elClone),s.hasClass("cbp-item-off")||l[0].setAttribute("class","cbp-item-wrapper cbp-item-on2off"),a.is(e)?(a[0].style.left=n.leftNew+"px",a[0].style.top=n.topNew+"px",c[0].setAttribute("class","cbp-item-wrapper cbp-item-off2on"),c[0].style[i.Private.animationDelay]=60*u+"ms",u++,a.removeClass("cbp-item-off"),p=c):a.addClass("cbp-item-off");p?p.one(i.Private.animationend,function(){t()}):t()},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.$ul.removeClass("cbp-wrapper-front").removeAttr("style"),e.$ulClone&&e.$ulClone.remove()},i.Plugins.AnimationSequentially=function(e){return i.Private.modernBrowser&&"sequentially"===e.options.animationType?new t(e):null}}(jQuery,window,document),function(e){function t(t){var i=this;i.parent=t,t._registerEvent("filterBeforeLayout",function(){t.$ulClone[0].style.display="",t.$obj.addClass("cbp-animation-"+t.options.animationType)},!0),t._registerEvent("initFinish",function(){t.$ulClone=t.$ul.clone(),t.$ulClone[0].style.display="none",t.$ulClone.children(".cbp-item").each(function(i,n){n=e(n),t.blocksObj[i].elClone=n,t.blocksObj[i].wrapperClone=n.children()}),t.$ulClone.insertAfter(t.$ul),t.wrapperFront=!0}),t._registerEvent("filterBeforeLayout",function(){t.wrapperFront?(t.$ul.removeClass("cbp-wrapper-front").addClass("cbp-wrapper-back"),t.$ulClone.removeClass("cbp-wrapper-back").addClass("cbp-wrapper-front"),t.wrapperFront=!1):(t.$ul.removeClass("cbp-wrapper-back").addClass("cbp-wrapper-front"),t.$ulClone.removeClass("cbp-wrapper-front").addClass("cbp-wrapper-back"),t.wrapperFront=!0)}),t._registerEvent("addItemsToDOM",function(i){var n=i.clone(),o=n.length,r=t.blocksObj.length;n.appendTo(t.$ulClone),n.each(function(i,n){n=e(n),t.blocksObj[r+i-o].elClone=n,t.blocksObj[r+i-o].wrapperClone=n.children(),t.wrapperFront||(t.blocksObj[r+i-o].elFront=n)})}),t.filterLayout=i.filterLayout}var i=e.fn.cubeportfolio.Constructor;t.prototype.filterLayout=function(e){var t,n,o,r,s=this;for(n=0,o=s.blocksObj.length;o>n;n++)t=s.blocksObj[n],s.wrapperFront?(r=t.el,t.elFront=t.el):(r=t.elClone,t.elFront=t.elClone),r.is(e)?(r[0].style.left=t.leftNew+"px",r[0].style.top=t.topNew+"px",r.removeClass("cbp-item-off")):r.addClass("cbp-item-off");s.$ul.one(i.Private.animationend,function(){var e,t;for(e=s.blocksObj.length-1;e>=0;e--)t=s.blocksObj[e],t.left=t.leftNew,t.top=t.topNew,t.el[0].style.left=t.left+"px",t.el[0].style.top=t.top+"px";s.filterDeferred.resolve()})},t.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.$ul.removeClass("cbp-wrapper-front").removeAttr("style"),e.$ulClone&&e.$ulClone.remove()},i.Plugins.AnimationWrapper=function(n){return!i.Private.modernBrowser||e.inArray(n.options.animationType,["bounceLeft","bounceBottom","bounceTop","moveLeft"])<0?null:new t(n)}}(jQuery,window,document),function(e){function t(t){t._skipNextEvent("delayFrame"),t._registerEvent("initEndWrite",function(){e.each(t.blocksOn,function(e,n){n.el[0].style[i.Private.animationDelay]=e*t.options.displayTypeSpeed+"ms"}),t.blocksOn.slice(-1)[0].el.one(i.Private.animationend,function(){t.$obj.removeClass("cbp-displayType-bottomToTop"),t.blocksOn.each(function(e,t){t.el[0].style[i.Private.animationDelay]=""}),t._triggerEvent("delayFrame")}),t.$obj.addClass("cbp-displayType-bottomToTop")},!0)}var i=e.fn.cubeportfolio.Constructor;i.Plugins.BottomToTop=function(e){return i.Private.modernBrowser&&"bottomToTop"===e.options.displayType?new t(e):null}}(jQuery,window,document),function(e){function t(e){e._skipNextEvent("delayFrame"),e._registerEvent("initEndWrite",function(){e.obj.style[i.Private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeInToTop"),e.$obj.one(i.Private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeInToTop"),e.obj.style[i.Private.animationDuration]="",e._triggerEvent("delayFrame")})},!0)}var i=e.fn.cubeportfolio.Constructor;i.Plugins.FadeInToTop=function(e){return i.Private.modernBrowser&&"fadeInToTop"===e.options.displayType?new t(e):null}}(jQuery,window,document),function(e){function t(e){e._skipNextEvent("delayFrame"),e._registerEvent("initEndWrite",function(){e.obj.style[i.Private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-lazyLoading"),e.$obj.one(i.Private.animationend,function(){e.$obj.removeClass("cbp-displayType-lazyLoading"),e.obj.style[i.Private.animationDuration]="",e._triggerEvent("delayFrame")})},!0)}var i=e.fn.cubeportfolio.Constructor;i.Plugins.LazyLoading=function(e){return!i.Private.modernBrowser||"lazyLoading"!==e.options.displayType&&"fadeIn"!==e.options.displayType?null:new t(e)}}(jQuery,window,document),function(e){function t(t){t._skipNextEvent("delayFrame"),t._registerEvent("initEndWrite",function(){e.each(t.blocksOn,function(e,n){n.el[0].style[i.Private.animationDelay]=e*t.options.displayTypeSpeed+"ms"}),t.$obj.addClass("cbp-displayType-sequentially"),t.blocksOn.slice(-1)[0].el.one(i.Private.animationend,function(){t.$obj.removeClass("cbp-displayType-sequentially"),e.each(t.blocksOn,function(e,t){t.el[0].style[i.Private.animationDelay]=""}),t._triggerEvent("delayFrame")})},!0)}var i=e.fn.cubeportfolio.Constructor;i.Plugins.DisplaySequentially=function(e){return i.Private.modernBrowser&&"sequentially"===e.options.displayType?new t(e):null}}(jQuery,window,document),function($){"use strict";$.fn.fitVids=function(e){var t={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],n=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">'+n+"</style>",i.appendChild(o.childNodes[1])}return e&&$.extend(t,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];t.customSelector&&e.push(t.customSelector);var i=".fitvidsignore";t.ignore&&(i=i+", "+t.ignore);var n=$(this).find(e.join(","));n=n.not("object object"),n=n.not(i),n.each(function(e){var t=$(this);if(!(t.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var n="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),o=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),r=n/o;if(!t.attr("id")){var s="fitvid"+e;t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*r+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),!function(e,t,i,n){var o=t.document,r=e(o),s=e(t),a=Array.prototype,l=1.41,c=!0,p=3e4,d=!1,u=navigator.userAgent.toLowerCase(),h=t.location.hash.replace(/#\//,""),f=t.location.protocol,g=Math,m=function(){},v=function(){return!1},b=function(){var e=3,t=o.createElement("div"),i=t.getElementsByTagName("i");do t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->";while(i[0]);return e>4?e:o.documentMode||n}(),y=function(){return{html:o.documentElement,body:o.body,head:o.getElementsByTagName("head")[0],title:o.title}},w=t.parent!==t.self,k="data ready thumbnail loadstart loadfinish image play pause progress fullscreen_enter fullscreen_exit idle_enter idle_exit rescale lightbox_open lightbox_close lightbox_image",x=function(){var t=[];return e.each(k.split(" "),function(e,i){t.push(i),/_/.test(i)&&t.push(i.replace(/_/g,""))}),t}(),C=function(t){var i;return"object"!=typeof t?t:(e.each(t,function(n,o){/^[a-z]+_/.test(n)&&(i="",e.each(n.split("_"),function(e,t){i+=e>0?t.substr(0,1).toUpperCase()+t.substr(1):t}),t[i]=o,delete t[n])}),t)},T=function(t){return e.inArray(t,x)>-1?i[t.toUpperCase()]:t},_={youtube:{reg:/https?:\/\/(?:[a-zA_Z]{2,3}.)?(?:youtube\.com\/watch\?)((?:[\w\d\-\_\=]+&amp;(?:amp;)?)*v(?:&lt;[A-Z]+&gt;)?=([0-9a-zA-Z\-\_]+))/i,embed:function(){return"http://www.youtube.com/embed/"+this.id},getUrl:function(){return f+"//gdata.youtube.com/feeds/api/videos/"+this.id+"?v=2&alt=json-in-script&callback=?"},get_thumb:function(e){return e.entry.media$group.media$thumbnail[2].url},get_image:function(e){return e.entry.yt$hd?f+"//img.youtube.com/vi/"+this.id+"/maxresdefault.jpg":e.entry.media$group.media$thumbnail[3].url}},vimeo:{reg:/https?:\/\/(?:www\.)?(vimeo\.com)\/(?:hd#)?([0-9]+)/i,embed:function(){return"http://player.vimeo.com/video/"+this.id},getUrl:function(){return f+"//vimeo.com/api/v2/video/"+this.id+".json?callback=?"},get_thumb:function(e){return e[0].thumbnail_medium},get_image:function(e){return e[0].thumbnail_large}},dailymotion:{reg:/https?:\/\/(?:www\.)?(dailymotion\.com)\/video\/([^_]+)/,embed:function(){return f+"//www.dailymotion.com/embed/video/"+this.id},getUrl:function(){return"https://api.dailymotion.com/video/"+this.id+"?fields=thumbnail_240_url,thumbnail_720_url&callback=?"},get_thumb:function(e){return e.thumbnail_240_url},get_image:function(e){return e.thumbnail_720_url}},_inst:[]},S=function(t,i){for(var n=0;n<_._inst.length;n++)if(_._inst[n].id===i&&_._inst[n].type==t)return _._inst[n];this.type=t,this.id=i,this.readys=[],_._inst.push(this);var o=this;e.extend(this,_[t]),e.getJSON(this.getUrl(),function(t){o.data=t,e.each(o.readys,function(e,t){t(o.data)}),o.readys=[]}),this.getMedia=function(e,t,i){i=i||m;var n=this,o=function(i){t(n["get_"+e](i))};try{n.data?o(n.data):n.readys.push(o)}catch(r){i()}}},P=function(e){var t;for(var i in _)if(t=e&&_[i].reg&&e.match(_[i].reg),t&&t.length)return{id:t[2],provider:i};return!1},I={support:function(){var e=y().html;return!w&&(e.requestFullscreen||e.msRequestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen)}(),callback:m,enter:function(e,t,i){this.instance=e,this.callback=t||m,i=i||y().html,i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullScreen&&i.webkitRequestFullScreen()},exit:function(e){this.callback=e||m,o.exitFullscreen?o.exitFullscreen():o.msExitFullscreen?o.msExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.webkitCancelFullScreen&&o.webkitCancelFullScreen()},instance:null,listen:function(){if(this.support){var e=function(){if(I.instance){var e=I.instance._fullscreen;o.fullscreen||o.mozFullScreen||o.webkitIsFullScreen||o.msFullscreenElement&&null!==o.msFullscreenElement?e._enter(I.callback):e._exit(I.callback)}};o.addEventListener("fullscreenchange",e,!1),o.addEventListener("MSFullscreenChange",e,!1),o.addEventListener("mozfullscreenchange",e,!1),o.addEventListener("webkitfullscreenchange",e,!1)}}},A=[],O=[],$=!1,E=!1,j=[],D=[],M=function(t){D.push(t),e.each(j,function(e,i){(i._options.theme==t.name||!i._initialized&&!i._options.theme)&&(i.theme=t,i._init.call(i))})},L=function(){return{clearTimer:function(t){e.each(i.get(),function(){this.clearTimer(t)})},addTimer:function(t){e.each(i.get(),function(){this.addTimer(t)})},array:function(e){return a.slice.call(e,0)},create:function(e,t){t=t||"div";var i=o.createElement(t);return i.className=e,i},removeFromArray:function(t,i){return e.each(t,function(e,n){return n==i?(t.splice(e,1),!1):void 0}),t},getScriptPath:function(t){t=t||e("script:last").attr("src");var i=t.split("/");return 1==i.length?"":(i.pop(),i.join("/")+"/")},animate:function(){var n=function(e){var i="transition WebkitTransition MozTransition OTransition".split(" "),n;if(t.opera)return!1;for(n=0;i[n];n++)if("undefined"!=typeof e[i[n]])return i[n];return!1}((o.body||o.documentElement).style),r={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],s={_default:[.25,.1,.25,1],galleria:[.645,.045,.355,1],galleriaIn:[.55,.085,.68,.53],galleriaOut:[.25,.46,.45,.94],ease:[.25,0,.25,1],linear:[.25,.25,.75,.75],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},a=function(t,i,n){var o={};n=n||"transition",e.each("webkit moz ms o".split(" "),function(){o["-"+this+"-"+n]=i}),t.css(o)},l=function(e){a(e,"none","transition"),i.WEBKIT&&i.TOUCH&&(a(e,"translate3d(0,0,0)","transform"),e.data("revert")&&(e.css(e.data("revert")),e.data("revert",null)))},c,p,d,u,h,f,g;return function(o,v,b){return b=e.extend({duration:400,complete:m,stop:!1},b),o=e(o),b.duration?n?(b.stop&&(o.off(r),l(o)),c=!1,e.each(v,function(e,t){g=o.css(e),L.parseValue(g)!=L.parseValue(t)&&(c=!0),o.css(e,g)}),c?(p=[],d=b.easing in s?s[b.easing]:s._default,u=" "+b.duration+"ms cubic-bezier("+d.join(",")+")",void t.setTimeout(function(t,n,o,r){return function(){t.one(n,function(e){return function(){l(e),b.complete.call(e[0])}}(t)),i.WEBKIT&&i.TOUCH&&(h={},f=[0,0,0],e.each(["left","top"],function(e,i){i in o&&(f[e]=L.parseValue(o[i])-L.parseValue(t.css(i))+"px",h[i]=o[i],delete o[i])}),(f[0]||f[1])&&(t.data("revert",h),p.push("-webkit-transform"+r),a(t,"translate3d("+f.join(",")+")","transform"))),e.each(o,function(e,t){p.push(e+r)}),a(t,p.join(",")),t.css(o)}}(o,r,v,u),2)):void t.setTimeout(function(){b.complete.call(o[0])},b.duration)):void o.animate(v,b):(o.css(v),void b.complete.call(o[0]))}}(),removeAlpha:function(e){if(e instanceof jQuery&&(e=e[0]),9>b&&e){var t=e.style,i=e.currentStyle,n=i&&i.filter||t.filter||"";/alpha/.test(n)&&(t.filter=n.replace(/alpha\([^)]*\)/i,""))}},forceStyles:function(t,i){t=e(t),t.attr("style")&&t.data("styles",t.attr("style")).removeAttr("style"),t.css(i)},revertStyles:function(){e.each(L.array(arguments),function(t,i){i=e(i),i.removeAttr("style"),i.attr("style",""),i.data("styles")&&i.attr("style",i.data("styles")).data("styles",null)})},moveOut:function(e){L.forceStyles(e,{position:"absolute",left:-1e4})},moveIn:function(){L.revertStyles.apply(L,L.array(arguments))},hide:function(t,i,n){n=n||m;var o=e(t);t=o[0],o.data("opacity")||o.data("opacity",o.css("opacity"));var r={opacity:0};if(i){var s=9>b&&t?function(){L.removeAlpha(t),t.style.visibility="hidden",n.call(t)}:n;L.animate(t,r,{duration:i,complete:s,stop:!0})}else 9>b&&t?(L.removeAlpha(t),t.style.visibility="hidden"):o.css(r)},show:function(t,i,n){n=n||m;var o=e(t);t=o[0];var r=parseFloat(o.data("opacity"))||1,s={opacity:r};if(i){9>b&&(o.css("opacity",0),t.style.visibility="visible");var a=9>b&&t?function(){1==s.opacity&&L.removeAlpha(t),n.call(t)}:n;L.animate(t,s,{duration:i,complete:a,stop:!0})}else 9>b&&1==s.opacity&&t?(L.removeAlpha(t),t.style.visibility="visible"):o.css(s)},wait:function(n){i._waiters=i._waiters||[],n=e.extend({until:v,success:m,error:function(){i.raise("Could not complete wait function.")},timeout:3e3},n);var o=L.timestamp(),r,s,a,l=function(){return s=L.timestamp(),r=s-o,L.removeFromArray(i._waiters,a),n.until(r)?(n.success(),!1):"number"==typeof n.timeout&&s>=o+n.timeout?(n.error(),!1):void i._waiters.push(a=t.setTimeout(l,10))};i._waiters.push(a=t.setTimeout(l,10))},toggleQuality:function(e,t){7!==b&&8!==b||!e||"IMG"!=e.nodeName.toUpperCase()||("undefined"==typeof t&&(t="nearest-neighbor"===e.style.msInterpolationMode),e.style.msInterpolationMode=t?"bicubic":"nearest-neighbor")},insertStyleTag:function(t,i){if(!i||!e("#"+i).length){var n=o.createElement("style");if(i&&(n.id=i),y().head.appendChild(n),n.styleSheet)n.styleSheet.cssText=t;else{var r=o.createTextNode(t);n.appendChild(r)}}},loadScript:function(t,i){var n=!1,o=e("<script>").attr({src:t,async:!0}).get(0);o.onload=o.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,o.onload=o.onreadystatechange=null,"function"==typeof i&&i.call(this,this))},y().head.appendChild(o)},parseValue:function(e){if("number"==typeof e)return e;if("string"==typeof e){var t=e.match(/\-?\d|\./g);return t&&t.constructor===Array?1*t.join(""):0}return 0},timestamp:function(){return(new Date).getTime()},loadCSS:function(t,r,s){var a,l;if(e("link[rel=stylesheet]").each(function(){return new RegExp(t).test(this.href)?(a=this,!1):void 0}),"function"==typeof r&&(s=r,r=n),s=s||m,a)return s.call(a,a),a;if(l=o.styleSheets.length,e("#"+r).length)e("#"+r).attr("href",t),l--;else{a=e("<link>").attr({rel:"stylesheet",href:t,id:r}).get(0);var c=e('link[rel="stylesheet"], style');if(c.length?c.get(0).parentNode.insertBefore(a,c[0]):y().head.appendChild(a),b&&l>=31)return void i.raise("You have reached the browser stylesheet limit (31)",!0)}if("function"==typeof s){var p=e("<s>").attr("id","galleria-loader").hide().appendTo(y().body);L.wait({until:function(){return 1==p.height()},success:function(){p.remove(),s.call(a,a)},error:function(){p.remove(),i.raise("Theme CSS could not load after 20 sec. "+(i.QUIRK?"Your browser is in Quirks Mode, please add a correct doctype.":"Please download the latest theme at http://galleria.io/customer/."),!0)},timeout:5e3})}return a}}}(),F=function(t){var i=".galleria-videoicon{width:60px;height:60px;position:absolute;top:50%;left:50%;z-index:1;margin:-30px 0 0 -30px;cursor:pointer;background:#000;background:rgba(0,0,0,.8);border-radius:3px;-webkit-transition:all 150ms}.galleria-videoicon i{width:0px;height:0px;border-style:solid;border-width:10px 0 10px 16px;display:block;border-color:transparent transparent transparent #ffffff;margin:20px 0 0 22px}.galleria-image:hover .galleria-videoicon{background:#000}";return L.insertStyleTag(i,"galleria-videoicon"),e(L.create("galleria-videoicon")).html("<i></i>").appendTo(t).click(function(){e(this).siblings("img").mouseup()})},z=function(){var t=function(t,i,n,o){var r=this.getOptions("easing"),s=this.getStageWidth(),a={left:s*(t.rewind?-1:1)},l={left:0};n?(a.opacity=0,l.opacity=1):a.opacity=1,e(t.next).css(a),L.animate(t.next,l,{duration:t.speed,complete:function(e){return function(){i(),e.css({left:0})}}(e(t.next).add(t.prev)),queue:!1,easing:r}),o&&(t.rewind=!t.rewind),t.prev&&(a={left:0},l={left:s*(t.rewind?1:-1)},n&&(a.opacity=1,l.opacity=0),e(t.prev).css(a),L.animate(t.prev,l,{duration:t.speed,queue:!1,easing:r,complete:function(){e(this).css("opacity",0)}}))};return{active:!1,init:function(e,t,i){z.effects.hasOwnProperty(e)&&z.effects[e].call(this,t,i)},effects:{fade:function(t,i){e(t.next).css({opacity:0,left:0}),L.animate(t.next,{opacity:1},{duration:t.speed,complete:i}),t.prev&&(e(t.prev).css("opacity",1).show(),L.animate(t.prev,{opacity:0},{duration:t.speed}))},flash:function(t,i){e(t.next).css({opacity:0,left:0}),t.prev?L.animate(t.prev,{opacity:0},{duration:t.speed/2,complete:function(){L.animate(t.next,{opacity:1},{duration:t.speed,complete:i})}}):L.animate(t.next,{opacity:1},{duration:t.speed,complete:i})},pulse:function(t,i){t.prev&&e(t.prev).hide(),e(t.next).css({opacity:0,left:0}).show(),L.animate(t.next,{opacity:1},{duration:t.speed,complete:i})},slide:function(e,i){t.apply(this,L.array(arguments))},fadeslide:function(e,i){t.apply(this,L.array(arguments).concat([!0]))},doorslide:function(e,i){t.apply(this,L.array(arguments).concat([!1,!0]))}}}}();I.listen(),e.event.special["click:fast"]={propagate:!0,add:function(i){var n=function(e){if(e.touches&&e.touches.length){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}},o={touched:!1,touchdown:!1,coords:{x:0,y:0},evObj:{}};e(this).data({clickstate:o,timer:0}).on("touchstart.fast",function(i){t.clearTimeout(e(this).data("timer")),e(this).data("clickstate",{touched:!0,touchdown:!0,coords:n(i.originalEvent),evObj:i})}).on("touchmove.fast",function(t){var i=n(t.originalEvent),o=e(this).data("clickstate"),r=Math.max(Math.abs(o.coords.x-i.x),Math.abs(o.coords.y-i.y));r>6&&e(this).data("clickstate",e.extend(o,{touchdown:!1}))}).on("touchend.fast",function(n){var r=e(this),s=r.data("clickstate");s.touchdown&&i.handler.call(this,n),r.data("timer",t.setTimeout(function(){r.data("clickstate",o)},400))}).on("click.fast",function(t){var n=e(this).data("clickstate");return n.touched?!1:(e(this).data("clickstate",o),void i.handler.call(this,t))})},remove:function(){e(this).off("touchstart.fast touchmove.fast touchend.fast click.fast")}},s.on("orientationchange",function(){e(this).resize()}),i=function(){var a=this;this._options={},this._playing=!1,this._playtime=5e3,this._active=null,this._queue={length:0},this._data=[],this._dom={},this._thumbnails=[],this._layers=[],this._initialized=!1,this._firstrun=!1,this._stageWidth=0,this._stageHeight=0,this._target=n,this._binds=[],this._id=parseInt(1e4*g.random(),10);var l="container stage images image-nav image-nav-left image-nav-right info info-text info-title info-description thumbnails thumbnails-list thumbnails-container thumb-nav-left thumb-nav-right loader counter tooltip",c="current total";e.each(l.split(" "),function(e,t){a._dom[t]=L.create("galleria-"+t)}),e.each(c.split(" "),function(e,t){a._dom[t]=L.create("galleria-"+t,"span")});var p=this._keyboard={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:!1,press:function(e){var t=e.keyCode||e.which;t in p.map&&"function"==typeof p.map[t]&&p.map[t].call(a,e)},attach:function(e){var t,i;for(t in e)e.hasOwnProperty(t)&&(i=t.toUpperCase(),i in p.keys?p.map[p.keys[i]]=e[t]:p.map[i]=e[t]);p.bound||(p.bound=!0,r.on("keydown",p.press))},detach:function(){p.bound=!1,p.map={},r.off("keydown",p.press)}},d=this._controls={0:n,1:n,active:0,swap:function(){d.active=d.active?0:1},getActive:function(){return a._options.swipe?d.slides[a._active]:d[d.active]},getNext:function(){return a._options.swipe?d.slides[a.getNext(a._active)]:d[1-d.active]},slides:[],frames:[],layers:[]},h=this._carousel={next:a.$("thumb-nav-right"),prev:a.$("thumb-nav-left"),width:0,current:0,max:0,hooks:[],update:function(){var t=0,i=0,n=[0];e.each(a._thumbnails,function(o,r){if(r.ready){t+=r.outerWidth||e(r.container).outerWidth(!0);var s=e(r.container).width();t+=s-g.floor(s),n[o+1]=t,i=g.max(i,r.outerHeight||e(r.container).outerHeight(!0))}}),a.$("thumbnails").css({width:t,height:i}),h.max=t,h.hooks=n,h.width=a.$("thumbnails-list").width(),h.setClasses(),a.$("thumbnails-container").toggleClass("galleria-carousel",t>h.width),h.width=a.$("thumbnails-list").width()},bindControls:function(){var e;h.next.on("click:fast",function(t){if(t.preventDefault(),"auto"===a._options.carouselSteps){for(e=h.current;e<h.hooks.length;e++)if(h.hooks[e]-h.hooks[h.current]>h.width){h.set(e-2);break}}else h.set(h.current+a._options.carouselSteps)}),h.prev.on("click:fast",function(t){if(t.preventDefault(),"auto"===a._options.carouselSteps)for(e=h.current;e>=0;e--){if(h.hooks[h.current]-h.hooks[e]>h.width){h.set(e+2);break}if(0===e){h.set(0);break}}else h.set(h.current-a._options.carouselSteps)})},set:function(e){for(e=g.max(e,0);h.hooks[e-1]+h.width>=h.max&&e>=0;)e--;h.current=e,h.animate()},getLast:function(e){return(e||h.current)-1},follow:function(e){if(0===e||e===h.hooks.length-2)return void h.set(e);for(var t=h.current;h.hooks[t]-h.hooks[h.current]<h.width&&t<=h.hooks.length;)t++;e-1<h.current?h.set(e-1):e+2>t&&h.set(e-t+h.current+2)},setClasses:function(){h.prev.toggleClass("disabled",!h.current),h.next.toggleClass("disabled",h.hooks[h.current]+h.width>=h.max)},animate:function(t){h.setClasses();var i=-1*h.hooks[h.current];isNaN(i)||(a.$("thumbnails").css("left",function(){return e(this).css("left")}),L.animate(a.get("thumbnails"),{left:i},{duration:a._options.carouselSpeed,easing:a._options.easing,queue:!1}))}},f=this._tooltip={initialized:!1,open:!1,timer:"tooltip"+a._id,swapTimer:"swap"+a._id,init:function(){f.initialized=!0;var e=".galleria-tooltip{padding:3px 8px;max-width:50%;background:#ffe;color:#000;z-index:3;position:absolute;font-size:11px;line-height:1.3;opacity:0;box-shadow:0 0 2px rgba(0,0,0,.4);-moz-box-shadow:0 0 2px rgba(0,0,0,.4);-webkit-box-shadow:0 0 2px rgba(0,0,0,.4);}";L.insertStyleTag(e,"galleria-tooltip"),a.$("tooltip").css({opacity:.8,visibility:"visible",display:"none"})},move:function(e){var t=a.getMousePosition(e).x,i=a.getMousePosition(e).y,n=a.$("tooltip"),o=t,r=i,s=n.outerHeight(!0)+1,l=n.outerWidth(!0),c=s+15,p=a.$("container").width()-l-2,d=a.$("container").height()-s-2;isNaN(o)||isNaN(r)||(o+=10,r-=s+8,o=g.max(0,g.min(p,o)),r=g.max(0,g.min(d,r)),c>i&&(r=c),n.css({left:o,top:r}))},bind:function(t,n){if(!i.TOUCH){f.initialized||f.init();var o=function(){a.$("container").off("mousemove",f.move),a.clearTimer(f.timer),a.$("tooltip").stop().animate({opacity:0},200,function(){a.$("tooltip").hide(),a.addTimer(f.swapTimer,function(){f.open=!1},1e3)})},r=function(t,i){f.define(t,i),e(t).hover(function(){a.clearTimer(f.swapTimer),a.$("container").off("mousemove",f.move).on("mousemove",f.move).trigger("mousemove"),f.show(t),a.addTimer(f.timer,function(){a.$("tooltip").stop().show().animate({opacity:1}),f.open=!0},f.open?0:500)},o).click(o)};"string"==typeof n?r(t in a._dom?a.get(t):t,n):e.each(t,function(e,t){r(a.get(e),t)})}},show:function(i){i=e(i in a._dom?a.get(i):i);var n=i.data("tt"),o=function(e){t.setTimeout(function(e){return function(){f.move(e)}}(e),10),i.off("mouseup",o)};n="function"==typeof n?n():n,n&&(a.$("tooltip").html(n.replace(/\s/,"&#160;")),i.on("mouseup",o))},define:function(t,i){if("function"!=typeof i){var n=i;i=function(){return n}}t=e(t in a._dom?a.get(t):t).data("tt",i),f.show(t)}},m=this._fullscreen={scrolled:0,crop:n,active:!1,prev:e(),beforeEnter:function(e){e()},beforeExit:function(e){e()},keymap:a._keyboard.map,parseCallback:function(t,i){return z.active?function(){"function"==typeof t&&t.call(a);var n=a._controls.getActive(),o=a._controls.getNext();a._scaleImage(o),a._scaleImage(n),i&&a._options.trueFullscreen&&e(n.container).add(o.container).trigger("transitionend")}:t},enter:function(e){m.beforeEnter(function(){e=m.parseCallback(e,!0),a._options.trueFullscreen&&I.support?(m.active=!0,L.forceStyles(a.get("container"),{width:"100%",height:"100%"}),a.rescale(),i.MAC?i.SAFARI&&/version\/[1-5]/.test(u)?(a.$("stage").css("opacity",0),t.setTimeout(function(){m.scale(),a.$("stage").css("opacity",1)},4)):(a.$("container").css("opacity",0).addClass("fullscreen"),t.setTimeout(function(){m.scale(),a.$("container").css("opacity",1)},50)):a.$("container").addClass("fullscreen"),s.resize(m.scale),I.enter(a,e,a.get("container"))):(m.scrolled=s.scrollTop(),i.TOUCH||t.scrollTo(0,0),m._enter(e))})},_enter:function(r){m.active=!0,w&&(m.iframe=function(){var n,r=o.referrer,s=o.createElement("a"),a=t.location;return s.href=r,s.protocol!=a.protocol||s.hostname!=a.hostname||s.port!=a.port?(i.raise("Parent fullscreen not available. Iframe protocol, domains and ports must match."),!1):(m.pd=t.parent.document,e(m.pd).find("iframe").each(function(){var e=this.contentDocument||this.contentWindow.document;return e===o?(n=this,!1):void 0}),n)}()),L.hide(a.getActiveImage()),w&&m.iframe&&(m.iframe.scrolled=e(t.parent).scrollTop(),t.parent.scrollTo(0,0));var l=a.getData(),c=a._options,p=!a._options.trueFullscreen||!I.support,d={height:"100%",overflow:"hidden",margin:0,padding:0};if(p&&(a.$("container").addClass("fullscreen"),m.prev=a.$("container").prev(),m.prev.length||(m.parent=a.$("container").parent()),a.$("container").appendTo("body"),L.forceStyles(a.get("container"),{position:i.TOUCH?"absolute":"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1e4}),L.forceStyles(y().html,d),L.forceStyles(y().body,d)),w&&m.iframe&&(L.forceStyles(m.pd.documentElement,d),L.forceStyles(m.pd.body,d),L.forceStyles(m.iframe,e.extend(d,{width:"100%",height:"100%",top:0,left:0,position:"fixed",zIndex:1e4,border:"none"}))),m.keymap=e.extend({},a._keyboard.map),a.attachKeyboard({escape:a.exitFullscreen,right:a.next,left:a.prev}),m.crop=c.imageCrop,c.fullscreenCrop!=n&&(c.imageCrop=c.fullscreenCrop),l&&l.big&&l.image!==l.big){var u=new i.Picture,h=u.isCached(l.big),f=a.getIndex(),g=a._thumbnails[f];a.trigger({type:i.LOADSTART,cached:h,rewind:!1,index:f,imageTarget:a.getActiveImage(),thumbTarget:g,galleriaData:l}),u.load(l.big,function(t){a._scaleImage(t,{complete:function(t){a.trigger({type:i.LOADFINISH,cached:h,index:f,rewind:!1,imageTarget:t.image,thumbTarget:g});var n=a._controls.getActive().image;n&&e(n).width(t.image.width).height(t.image.height).attr("style",e(t.image).attr("style")).attr("src",t.image.src)}})});var v=a.getNext(f),b=new i.Picture,k=a.getData(v);b.preload(a.isFullscreen()&&k.big?k.big:k.image)}a.rescale(function(){a.addTimer(!1,function(){p&&L.show(a.getActiveImage()),"function"==typeof r&&r.call(a),a.rescale()},100),a.trigger(i.FULLSCREEN_ENTER)}),p?s.resize(m.scale):L.show(a.getActiveImage())},scale:function(){a.rescale()},exit:function(e){m.beforeExit(function(){e=m.parseCallback(e),a._options.trueFullscreen&&I.support?I.exit(e):m._exit(e)})},_exit:function(e){m.active=!1;var n=!a._options.trueFullscreen||!I.support,o=a.$("container").removeClass("fullscreen");if(m.parent?m.parent.prepend(o):o.insertAfter(m.prev),n){L.hide(a.getActiveImage()),L.revertStyles(a.get("container"),y().html,y().body),i.TOUCH||t.scrollTo(0,m.scrolled);var r=a._controls.frames[a._controls.active];r&&r.image&&(r.image.src=r.image.src)}w&&m.iframe&&(L.revertStyles(m.pd.documentElement,m.pd.body,m.iframe),m.iframe.scrolled&&t.parent.scrollTo(0,m.iframe.scrolled)),a.detachKeyboard(),a.attachKeyboard(m.keymap),a._options.imageCrop=m.crop;var l=a.getData().big,c=a._controls.getActive().image;!a.getData().iframe&&c&&l&&l==c.src&&t.setTimeout(function(e){return function(){c.src=e}}(a.getData().image),1),a.rescale(function(){a.addTimer(!1,function(){n&&L.show(a.getActiveImage()),"function"==typeof e&&e.call(a),s.trigger("resize")},50),a.trigger(i.FULLSCREEN_EXIT)}),s.off("resize",m.scale)}},v=this._idle={trunk:[],bound:!1,active:!1,add:function(t,n,o,r){if(t&&!i.TOUCH){v.bound||v.addEvent(),t=e(t),"boolean"==typeof o&&(r=o,o={}),o=o||{};var s={},a;for(a in n)n.hasOwnProperty(a)&&(s[a]=t.css(a));t.data("idle",{from:e.extend(s,o),to:n,complete:!0,busy:!1}),r?t.css(n):v.addTimer(),v.trunk.push(t)}},remove:function(t){t=e(t),e.each(v.trunk,function(e,i){i&&i.length&&!i.not(t).length&&(t.css(t.data("idle").from),v.trunk.splice(e,1))
}),v.trunk.length||(v.removeEvent(),a.clearTimer(v.timer))},addEvent:function(){v.bound=!0,a.$("container").on("mousemove click",v.showAll),"hover"==a._options.idleMode&&a.$("container").on("mouseleave",v.hide)},removeEvent:function(){v.bound=!1,a.$("container").on("mousemove click",v.showAll),"hover"==a._options.idleMode&&a.$("container").off("mouseleave",v.hide)},addTimer:function(){"hover"!=a._options.idleMode&&a.addTimer("idle",function(){v.hide()},a._options.idleTime)},hide:function(){if(a._options.idleMode&&a.getIndex()!==!1){a.trigger(i.IDLE_ENTER);var t=v.trunk.length;e.each(v.trunk,function(e,i){var n=i.data("idle");n&&(i.data("idle").complete=!1,L.animate(i,n.to,{duration:a._options.idleSpeed,complete:function(){e==t-1&&(v.active=!1)}}))})}},showAll:function(){a.clearTimer("idle"),e.each(v.trunk,function(e,t){v.show(t)})},show:function(t){var n=t.data("idle");v.active&&(n.busy||n.complete)||(n.busy=!0,a.trigger(i.IDLE_EXIT),a.clearTimer("idle"),L.animate(t,n.from,{duration:a._options.idleSpeed/2,complete:function(){v.active=!0,e(t).data("idle").busy=!1,e(t).data("idle").complete=!0}})),v.addTimer()}},k=this._lightbox={width:0,height:0,initialized:!1,active:null,image:null,elems:{},keymap:!1,init:function(){if(!k.initialized){k.initialized=!0;var t="overlay box content shadow title info close prevholder prev nextholder next counter image",n={},o=a._options,r="",s="position:absolute;",l="lightbox-",c={overlay:"position:fixed;display:none;opacity:"+o.overlayOpacity+";filter:alpha(opacity="+100*o.overlayOpacity+");top:0;left:0;width:100%;height:100%;background:"+o.overlayBackground+";z-index:99990",box:"position:fixed;display:none;width:400px;height:400px;top:50%;left:50%;margin-top:-200px;margin-left:-200px;z-index:99991",shadow:s+"background:#000;width:100%;height:100%;",content:s+"background-color:#fff;top:10px;left:10px;right:10px;bottom:10px;overflow:hidden",info:s+"bottom:10px;left:10px;right:10px;color:#444;font:11px/13px arial,sans-serif;height:13px",close:s+"top:10px;right:10px;height:20px;width:20px;background:#fff;text-align:center;cursor:pointer;color:#444;font:16px/22px arial,sans-serif;z-index:99999",image:s+"top:10px;left:10px;right:10px;bottom:30px;overflow:hidden;display:block;",prevholder:s+"width:50%;top:0;bottom:40px;cursor:pointer;",nextholder:s+"width:50%;top:0;bottom:40px;right:-1px;cursor:pointer;",prev:s+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;left:20px;display:none;text-align:center;color:#000;font:bold 16px/36px arial,sans-serif",next:s+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;right:20px;left:auto;display:none;font:bold 16px/36px arial,sans-serif;text-align:center;color:#000",title:"float:left",counter:"float:right;margin-left:8px;"},p=function(t){return t.hover(function(){e(this).css("color","#bbb")},function(){e(this).css("color","#444")})},d={},u="";u=b>7?9>b?"background:#000;filter:alpha(opacity=0);":"background:rgba(0,0,0,0);":"z-index:99999",c.nextholder+=u,c.prevholder+=u,e.each(c,function(e,t){r+=".galleria-"+l+e+"{"+t+"}"}),r+=".galleria-"+l+"box.iframe .galleria-"+l+"prevholder,.galleria-"+l+"box.iframe .galleria-"+l+"nextholder{width:100px;height:100px;top:50%;margin-top:-70px}",L.insertStyleTag(r,"galleria-lightbox"),e.each(t.split(" "),function(e,t){a.addElement("lightbox-"+t),n[t]=k.elems[t]=a.get("lightbox-"+t)}),k.image=new i.Picture,e.each({box:"shadow content close prevholder nextholder",info:"title counter",content:"info image",prevholder:"prev",nextholder:"next"},function(t,i){var n=[];e.each(i.split(" "),function(e,t){n.push(l+t)}),d[l+t]=n}),a.append(d),e(n.image).append(k.image.container),e(y().body).append(n.overlay,n.box),p(e(n.close).on("click:fast",k.hide).html("&#215;")),e.each(["Prev","Next"],function(t,o){var r=e(n[o.toLowerCase()]).html(/v/.test(o)?"&#8249;&#160;":"&#160;&#8250;"),s=e(n[o.toLowerCase()+"holder"]);return s.on("click:fast",function(){k["show"+o]()}),8>b||i.TOUCH?void r.show():void s.hover(function(){r.show()},function(e){r.stop().fadeOut(200)})}),e(n.overlay).on("click:fast",k.hide),i.IPAD&&(a._options.lightboxTransitionSpeed=0)}},rescale:function(t){var n=g.min(s.width()-40,k.width),o=g.min(s.height()-60,k.height),r=g.min(n/k.width,o/k.height),l=g.round(k.width*r)+40,c=g.round(k.height*r)+60,p={width:l,height:c,"margin-top":-1*g.ceil(c/2),"margin-left":-1*g.ceil(l/2)};t?e(k.elems.box).css(p):e(k.elems.box).animate(p,{duration:a._options.lightboxTransitionSpeed,easing:a._options.easing,complete:function(){var t=k.image,n=a._options.lightboxFadeSpeed;a.trigger({type:i.LIGHTBOX_IMAGE,imageTarget:t.image}),e(t.container).show(),e(t.image).animate({opacity:1},n),L.show(k.elems.info,n)}})},hide:function(){k.image.image=null,s.off("resize",k.rescale),e(k.elems.box).hide().find("iframe").remove(),L.hide(k.elems.info),a.detachKeyboard(),a.attachKeyboard(k.keymap),k.keymap=!1,L.hide(k.elems.overlay,200,function(){e(this).hide().css("opacity",a._options.overlayOpacity),a.trigger(i.LIGHTBOX_CLOSE)})},showNext:function(){k.show(a.getNext(k.active))},showPrev:function(){k.show(a.getPrev(k.active))},show:function(n){k.active=n="number"==typeof n?n:a.getIndex()||0,k.initialized||k.init(),a.trigger(i.LIGHTBOX_OPEN),k.keymap||(k.keymap=e.extend({},a._keyboard.map),a.attachKeyboard({escape:k.hide,right:k.showNext,left:k.showPrev})),s.off("resize",k.rescale);var o=a.getData(n),r=a.getDataLength(),l=a.getNext(n),c,p,d;L.hide(k.elems.info);try{for(d=a._options.preload;d>0;d--)p=new i.Picture,c=a.getData(l),p.preload(c.big?c.big:c.image),l=a.getNext(l)}catch(u){}k.image.isIframe=o.iframe&&!o.image,e(k.elems.box).toggleClass("iframe",k.image.isIframe),e(k.image.container).find(".galleria-videoicon").remove(),k.image.load(o.big||o.image||o.iframe,function(i){if(i.isIframe){var l=e(t).width(),c=e(t).height();if(i.video&&a._options.maxVideoSize){var p=g.min(a._options.maxVideoSize/l,a._options.maxVideoSize/c);1>p&&(l*=p,c*=p)}k.width=l,k.height=c}else k.width=i.original.width,k.height=i.original.height;if(e(i.image).css({width:i.isIframe?"100%":"100.1%",height:i.isIframe?"100%":"100.1%",top:0,bottom:0,zIndex:99998,opacity:0,visibility:"visible"}).parent().height("100%"),k.elems.title.innerHTML=o.title||"",k.elems.counter.innerHTML=n+1+" / "+r,s.resize(k.rescale),k.rescale(),o.image&&o.iframe){if(e(k.elems.box).addClass("iframe"),o.video){var d=F(i.container).hide();t.setTimeout(function(){d.fadeIn(200)},200)}e(i.image).css("cursor","pointer").mouseup(function(t,i){return function(n){e(k.image.container).find(".galleria-videoicon").remove(),n.preventDefault(),i.isIframe=!0,i.load(t.iframe+(t.video?"&autoplay=1":""),{width:"100%",height:8>b?e(k.image.container).height():"100%"})}}(o,i))}}),e(k.elems.overlay).show().css("visibility","visible"),e(k.elems.box).show()}},x=this._timer={trunk:{},add:function(e,i,n,o){if(e=e||(new Date).getTime(),o=o||!1,this.clear(e),o){var r=i;i=function(){r(),x.add(e,i,n)}}this.trunk[e]=t.setTimeout(i,n)},clear:function(e){var i=function(e){t.clearTimeout(this.trunk[e]),delete this.trunk[e]},n;if(e&&e in this.trunk)i.call(this,e);else if("undefined"==typeof e)for(n in this.trunk)this.trunk.hasOwnProperty(n)&&i.call(this,n)}};return this},i.prototype={constructor:i,init:function(t,o){if(o=C(o),this._original={target:t,options:o,data:null},this._target=this._dom.target=t.nodeName?t:e(t).get(0),this._original.html=this._target.innerHTML,O.push(this),!this._target)return void i.raise("Target not found",!0);if(this._options={autoplay:!1,carousel:!0,carouselFollow:!0,carouselSpeed:400,carouselSteps:"auto",clicknext:!1,dailymotion:{foreground:"%23EEEEEE",highlight:"%235BCEC5",background:"%23222222",logo:0,hideInfos:1},dataConfig:function(e){return{}},dataSelector:"img",dataSort:!1,dataSource:this._target,debug:n,dummy:n,easing:"galleria",extend:function(e){},fullscreenCrop:n,fullscreenDoubleTap:!0,fullscreenTransition:n,height:0,idleMode:!0,idleTime:3e3,idleSpeed:200,imageCrop:!1,imageMargin:0,imagePan:!1,imagePanSmoothness:12,imagePosition:"50%",imageTimeout:n,initialTransition:n,keepSource:!1,layerFollow:!0,lightbox:!1,lightboxFadeSpeed:200,lightboxTransitionSpeed:200,linkSourceImages:!0,maxScaleRatio:n,maxVideoSize:n,minScaleRatio:n,overlayOpacity:.85,overlayBackground:"#0b0b0b",pauseOnInteraction:!0,popupLinks:!1,preload:2,queue:!0,responsive:!0,show:0,showInfo:!0,showCounter:!0,showImagenav:!0,swipe:"auto",theme:null,thumbCrop:!0,thumbEventType:"click:fast",thumbMargin:0,thumbQuality:"auto",thumbDisplayOrder:!0,thumbPosition:"50%",thumbnails:!0,touchTransition:n,transition:"fade",transitionInitial:n,transitionSpeed:400,trueFullscreen:!0,useCanvas:!1,variation:"",videoPoster:!0,vimeo:{title:0,byline:0,portrait:0,color:"aaaaaa"},wait:5e3,width:"auto",youtube:{modestbranding:1,autohide:1,color:"white",hd:1,rel:0,showinfo:0}},this._options.initialTransition=this._options.initialTransition||this._options.transitionInitial,o&&(o.debug===!1&&(c=!1),"number"==typeof o.imageTimeout&&(p=o.imageTimeout),"string"==typeof o.dummy&&(d=o.dummy),"string"==typeof o.theme&&(this._options.theme=o.theme)),e(this._target).children().hide(),i.QUIRK&&i.raise("Your page is in Quirks mode, Galleria may not render correctly. Please validate your HTML and add a correct doctype."),D.length)if(this._options.theme){for(var r=0;r<D.length;r++)if(this._options.theme===D[r].name){this.theme=D[r];break}}else this.theme=D[0];return"object"==typeof this.theme?this._init():j.push(this),this},_init:function(){var r=this,a=this._options;if(this._initialized)return i.raise("Init failed: Gallery instance already initialized."),this;if(this._initialized=!0,!this.theme)return i.raise("Init failed: No theme found.",!0),this;if(e.extend(!0,a,this.theme.defaults,this._original.options,i.configure.options),a.swipe=function(e){return"enforced"==e?!0:e===!1||"disabled"==e?!1:!!i.TOUCH}(a.swipe),a.swipe&&(a.clicknext=!1,a.imagePan=!1),!function(e){return"getContext"in e?void(E=E||{elem:e,context:e.getContext("2d"),cache:{},length:0}):void(e=null)}(o.createElement("canvas")),this.bind(i.DATA,function(){t.screen&&t.screen.width&&Array.prototype.forEach&&this._data.forEach(function(e){var i="devicePixelRatio"in t?t.devicePixelRatio:1,n=g.max(t.screen.width,t.screen.height);1024>n*i&&(e.big=e.image)}),this._original.data=this._data,this.get("total").innerHTML=this.getDataLength();var e=this.$("container");r._options.height<2&&(r._userRatio=r._ratio=r._options.height);var n={width:0,height:0},o=function(){return r.$("stage").height()};L.wait({until:function(){return n=r._getWH(),e.width(n.width).height(n.height),o()&&n.width&&n.height>50},success:function(){r._width=n.width,r._height=n.height,r._ratio=r._ratio||n.height/n.width,i.WEBKIT?t.setTimeout(function(){r._run()},1):r._run()},error:function(){o()?i.raise("Could not extract sufficient width/height of the gallery container. Traced measures: width:"+n.width+"px, height: "+n.height+"px.",!0):i.raise("Could not extract a stage height from the CSS. Traced height: "+o()+"px.",!0)},timeout:"number"==typeof this._options.wait?this._options.wait:!1})}),this.append({"info-text":["info-title","info-description"],info:["info-text"],"image-nav":["image-nav-right","image-nav-left"],stage:["images","loader","counter","image-nav"],"thumbnails-list":["thumbnails"],"thumbnails-container":["thumb-nav-left","thumbnails-list","thumb-nav-right"],container:["stage","thumbnails-container","info","tooltip"]}),L.hide(this.$("counter").append(this.get("current"),o.createTextNode(" / "),this.get("total"))),this.setCounter("&#8211;"),L.hide(r.get("tooltip")),this.$("container").addClass([i.TOUCH?"touch":"notouch",this._options.variation,"galleria-theme-"+this.theme.name].join(" ")),this._options.swipe||e.each(new Array(2),function(t){var n=new i.Picture;e(n.container).css({position:"absolute",top:0,left:0}).prepend(r._layers[t]=e(L.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]),r.$("images").append(n.container),r._controls[t]=n;var o=new i.Picture;o.isIframe=!0,e(o.container).attr("class","galleria-frame").css({position:"absolute",top:0,left:0,zIndex:4,background:"#000",display:"none"}).appendTo(n.container),r._controls.frames[t]=o}),this.$("images").css({position:"relative",top:0,left:0,width:"100%",height:"100%"}),a.swipe&&(this.$("images").css({position:"absolute",top:0,left:0,width:0,height:"100%"}),this.finger=new i.Finger(this.get("stage"),{onchange:function(e){r.pause().show(e)},oncomplete:function(t){var i=g.max(0,g.min(parseInt(t,10),r.getDataLength()-1)),n=r.getData(i);e(r._thumbnails[i].container).addClass("active").siblings(".active").removeClass("active"),n&&(r.$("images").find(".galleria-frame").css("opacity",0).hide().find("iframe").remove(),r._options.carousel&&r._options.carouselFollow&&r._carousel.follow(i))}}),this.bind(i.RESCALE,function(){this.finger.setup()}),this.$("stage").on("click",function(i){var o=r.getData();if(o){if(o.iframe){r.isPlaying()&&r.pause();var s=r._controls.frames[r._active],a=r._stageWidth,l=r._stageHeight;if(e(s.container).find("iframe").length)return;return e(s.container).css({width:a,height:l,opacity:0}).show().animate({opacity:1},200),void t.setTimeout(function(){s.load(o.iframe+(o.video?"&autoplay=1":""),{width:a,height:l},function(e){r.$("container").addClass("videoplay"),e.scale({width:r._stageWidth,height:r._stageHeight,iframelimit:o.video?r._options.maxVideoSize:n})})},100)}if(o.link)if(r._options.popupLinks)var c=t.open(o.link,"_blank");else t.location.href=o.link;else;}}),this.bind(i.IMAGE,function(t){r.setCounter(t.index),r.setInfo(t.index);var i=this.getNext(),n=this.getPrev(),o=[n,i];o.push(this.getNext(i),this.getPrev(n),r._controls.slides.length-1);var s=[];e.each(o,function(t,i){-1==e.inArray(i,s)&&s.push(i)}),e.each(s,function(t,i){var n=r.getData(i),o=r._controls.slides[i],s=r.isFullscreen()&&n.big?n.big:n.image||n.iframe;n.iframe&&!n.image&&(o.isIframe=!0),o.ready||r._controls.slides[i].load(s,function(t){t.isIframe||e(t.image).css("visibility","hidden"),r._scaleImage(t,{complete:function(t){t.isIframe||e(t.image).css({opacity:0,visibility:"visible"}).animate({opacity:1},200)}})})})})),this.$("thumbnails, thumbnails-list").css({overflow:"hidden",position:"relative"}),this.$("image-nav-right, image-nav-left").on("click:fast",function(e){a.pauseOnInteraction&&r.pause();var t=/right/.test(this.className)?"next":"prev";r[t]()}).on("click",function(e){e.preventDefault(),(a.clicknext||a.swipe)&&e.stopPropagation()}),e.each(["info","counter","image-nav"],function(e,t){a["show"+t.substr(0,1).toUpperCase()+t.substr(1).replace(/-/,"")]===!1&&L.moveOut(r.get(t.toLowerCase()))}),this.load(),a.keepSource||b||(this._target.innerHTML=""),this.get("errors")&&this.appendChild("target","errors"),this.appendChild("target","container"),a.carousel){var l=0,c=a.show;this.bind(i.THUMBNAIL,function(){this.updateCarousel(),++l==this.getDataLength()&&"number"==typeof c&&c>0&&this._carousel.follow(c)})}return a.responsive&&s.on("resize",function(){r.isFullscreen()||r.resize()}),a.fullscreenDoubleTap&&this.$("stage").on("touchstart",function(){var e,t,i,n,o,s,a=function(e){return e.originalEvent.touches?e.originalEvent.touches[0]:e};return r.$("stage").on("touchmove",function(){e=0}),function(l){if(!/(-left|-right)/.test(l.target.className)){if(s=L.timestamp(),t=a(l).pageX,i=a(l).pageY,l.originalEvent.touches.length<2&&300>s-e&&20>t-n&&20>i-o)return r.toggleFullscreen(),void l.preventDefault();e=s,n=t,o=i}}}()),e.each(i.on.binds,function(t,i){-1==e.inArray(i.hash,r._binds)&&r.bind(i.type,i.callback)}),this},addTimer:function(){return this._timer.add.apply(this._timer,L.array(arguments)),this},clearTimer:function(){return this._timer.clear.apply(this._timer,L.array(arguments)),this},_getWH:function(){var t=this.$("container"),i=this.$("target"),n=this,o={},r;return e.each(["width","height"],function(e,s){n._options[s]&&"number"==typeof n._options[s]?o[s]=n._options[s]:(r=[L.parseValue(t.css(s)),L.parseValue(i.css(s)),t[s](),i[s]()],n["_"+s]||r.splice(r.length,L.parseValue(t.css("min-"+s)),L.parseValue(i.css("min-"+s))),o[s]=g.max.apply(g,r))}),n._userRatio&&(o.height=o.width*n._userRatio),o},_createThumbnails:function(n){this.get("total").innerHTML=this.getDataLength();var r,s,a,l,c=this,p=this._options,d=n?this._data.length-n.length:0,u=d,h=[],f=0,g=8>b?"http://upload.wikimedia.org/wikipedia/commons/c/c0/Blank.gif":"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D",m=function(){var e=c.$("thumbnails").find(".active");return e.length?e.find("img").attr("src"):!1}(),v="string"==typeof p.thumbnails?p.thumbnails.toLowerCase():null,y=function(e){return o.defaultView&&o.defaultView.getComputedStyle?o.defaultView.getComputedStyle(s.container,null)[e]:l.css(e)},w=function(t,n,o){return function(){e(o).append(t),c.trigger({type:i.THUMBNAIL,thumbTarget:t,index:n,galleriaData:c.getData(n)})}},k=function(t){p.pauseOnInteraction&&c.pause();var i=e(t.currentTarget).data("index");c.getIndex()!==i&&c.show(i),t.preventDefault()},x=function(t,n){e(t.container).css("visibility","visible"),c.trigger({type:i.THUMBNAIL,thumbTarget:t.image,index:t.data.order,galleriaData:c.getData(t.data.order)}),"function"==typeof n&&n.call(c,t)},C=function(t,i){t.scale({width:t.data.width,height:t.data.height,crop:p.thumbCrop,margin:p.thumbMargin,canvas:p.useCanvas,position:p.thumbPosition,complete:function(t){var n=["left","top"],o=["Width","Height"],r,s,a=c.getData(t.index);e.each(o,function(i,o){r=o.toLowerCase(),(p.thumbCrop!==!0||p.thumbCrop===r)&&(s={},s[r]=t[r],e(t.container).css(s),s={},s[n[i]]=0,e(t.image).css(s)),t["outer"+o]=e(t.container)["outer"+o](!0)}),L.toggleQuality(t.image,p.thumbQuality===!0||"auto"===p.thumbQuality&&t.original.width<3*t.width),p.thumbDisplayOrder&&!t.lazy?e.each(h,function(e,t){return e===f&&t.ready&&!t.displayed?(f++,t.displayed=!0,void x(t,i)):void 0}):x(t,i)}})};for(n||(this._thumbnails=[],this.$("thumbnails").empty());this._data[d];d++)a=this._data[d],r=a.thumb||a.image,p.thumbnails!==!0&&"lazy"!=v||!a.thumb&&!a.image?a.iframe&&null!==v||"empty"===v||"numbers"===v?(s={container:L.create("galleria-image"),image:L.create("img","span"),ready:!0,data:{order:d}},"numbers"===v&&e(s.image).text(d+1),a.iframe&&e(s.image).addClass("iframe"),this.$("thumbnails").append(s.container),t.setTimeout(w(s.image,d,s.container),50+20*d)):s={container:null,image:null}:(s=new i.Picture(d),s.index=d,s.displayed=!1,s.lazy=!1,s.video=!1,this.$("thumbnails").append(s.container),l=e(s.container),l.css("visibility","hidden"),s.data={width:L.parseValue(y("width")),height:L.parseValue(y("height")),order:d,src:r},l.css(p.thumbCrop!==!0?{width:"auto",height:"auto"}:{width:s.data.width,height:s.data.height}),"lazy"==v?(l.addClass("lazy"),s.lazy=!0,s.load(g,{height:s.data.height,width:s.data.width})):s.load(r,C),"all"===p.preload&&s.preload(a.image)),e(s.container).add(p.keepSource&&p.linkSourceImages?a.original:null).data("index",d).on(p.thumbEventType,k).data("thumbload",C),m===r&&e(s.container).addClass("active"),this._thumbnails.push(s);return h=this._thumbnails.slice(u),this},lazyLoad:function(t,i){var n=t.constructor==Array?t:[t],o=this,r=0;return e.each(n,function(t,s){if(!(s>o._thumbnails.length-1)){var a=o._thumbnails[s],l=a.data,c=function(){++r==n.length&&"function"==typeof i&&i.call(o)},p=e(a.container).data("thumbload");a.video?p.call(o,a,c):a.load(l.src,function(e){p.call(o,e,c)})}}),this},lazyLoadChunks:function(e,i){var n=this.getDataLength(),o=0,r=0,s=[],a=[],l=this;for(i=i||0;n>o;o++)a.push(o),(++r==e||o==n-1)&&(s.push(a),r=0,a=[]);var c=function(e){var n=s.shift();n&&t.setTimeout(function(){l.lazyLoad(n,function(){c(!0)})},i&&e?i:0)};return c(!1),this},_run:function(){var o=this;o._createThumbnails(),L.wait({timeout:1e4,until:function(){return i.OPERA&&o.$("stage").css("display","inline-block"),o._stageWidth=o.$("stage").width(),o._stageHeight=o.$("stage").height(),o._stageWidth&&o._stageHeight>50},success:function(){if(A.push(o),o._options.swipe){var r=o.$("images").width(o.getDataLength()*o._stageWidth);e.each(new Array(o.getDataLength()),function(t){var n=new i.Picture,s=o.getData(t);e(n.container).css({position:"absolute",top:0,left:o._stageWidth*t}).prepend(o._layers[t]=e(L.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]).appendTo(r),s.video&&F(n.container),o._controls.slides.push(n);var a=new i.Picture;a.isIframe=!0,e(a.container).attr("class","galleria-frame").css({position:"absolute",top:0,left:0,zIndex:4,background:"#000",display:"none"}).appendTo(n.container),o._controls.frames.push(a)}),o.finger.setup()}return L.show(o.get("counter")),o._options.carousel&&o._carousel.bindControls(),o._options.autoplay&&(o.pause(),"number"==typeof o._options.autoplay&&(o._playtime=o._options.autoplay),o._playing=!0),o._firstrun?(o._options.autoplay&&o.trigger(i.PLAY),void("number"==typeof o._options.show&&o.show(o._options.show))):(o._firstrun=!0,i.History&&i.History.change(function(e){isNaN(e)?t.history.go(-1):o.show(e,n,!0)}),o.trigger(i.READY),o.theme.init.call(o,o._options),e.each(i.ready.callbacks,function(e,t){"function"==typeof t&&t.call(o,o._options)}),o._options.extend.call(o,o._options),/^[0-9]{1,4}$/.test(h)&&i.History?o.show(h,n,!0):o._data[o._options.show]&&o.show(o._options.show),void(o._options.autoplay&&o.trigger(i.PLAY)))},error:function(){i.raise("Stage width or height is too small to show the gallery. Traced measures: width:"+o._stageWidth+"px, height: "+o._stageHeight+"px.",!0)}})},load:function(t,n,o){var r=this,s=this._options;return this._data=[],this._thumbnails=[],this.$("thumbnails").empty(),"function"==typeof n&&(o=n,n=null),t=t||s.dataSource,n=n||s.dataSelector,o=o||s.dataConfig,e.isPlainObject(t)&&(t=[t]),e.isArray(t)?this.validate(t)?this._data=t:i.raise("Load failed: JSON Array not valid."):(n+=",.video,.iframe",e(t).find(n).each(function(t,i){i=e(i);var n={},s=i.parent(),a=s.attr("href"),l=s.attr("rel");a&&("IMG"==i[0].nodeName||i.hasClass("video"))&&P(a)?n.video=a:a&&i.hasClass("iframe")?n.iframe=a:n.image=n.big=a,l&&(n.big=l),e.each("big title description link layer image".split(" "),function(e,t){i.data(t)&&(n[t]=i.data(t).toString())}),n.big||(n.big=n.image),r._data.push(e.extend({title:i.attr("title")||"",thumb:i.attr("src"),image:i.attr("src"),big:i.attr("src"),description:i.attr("alt")||"",link:i.attr("longdesc"),original:i.get(0)},n,o(i)))})),"function"==typeof s.dataSort?a.sort.call(this._data,s.dataSort):"random"==s.dataSort&&this._data.sort(function(){return g.round(g.random())-.5}),this.getDataLength()&&this._parseData(function(){this.trigger(i.DATA)}),this},_parseData:function(t){var i=this,o,r=!1,s=function(){var n=!0;e.each(i._data,function(e,t){return t.loading?(n=!1,!1):void 0}),n&&!r&&(r=!0,t.call(i))};return e.each(this._data,function(t,r){if(o=i._data[t],"thumb"in r==!1&&(o.thumb=r.image),r.big||(o.big=r.image),"video"in r){var a=P(r.video);a&&(o.iframe=new S(a.provider,a.id).embed()+function(){if("object"==typeof i._options[a.provider]){var t="?",n=[];return e.each(i._options[a.provider],function(e,t){n.push(e+"="+t)}),"youtube"==a.provider&&(n=["wmode=opaque"].concat(n)),t+n.join("&")}return""}(),o.thumb&&o.image||e.each(["thumb","image"],function(e,t){if("image"==t&&!i._options.videoPoster)return void(o.image=n);var r=new S(a.provider,a.id);o[t]||(o.loading=!0,r.getMedia(t,function(e,t){return function(i){e[t]=i,"image"!=t||e.big||(e.big=e.image),delete e.loading,s()}}(o,t)))}))}}),s(),this},destroy:function(){return this.$("target").data("galleria",null),this.$("container").off("galleria"),this.get("target").innerHTML=this._original.html,this.clearTimer(),L.removeFromArray(O,this),L.removeFromArray(A,this),i._waiters.length&&e.each(i._waiters,function(e,i){i&&t.clearTimeout(i)}),this},splice:function(){var e=this,i=L.array(arguments);return t.setTimeout(function(){a.splice.apply(e._data,i),e._parseData(function(){e._createThumbnails()})},2),e},push:function(){var e=this,i=L.array(arguments);return 1==i.length&&i[0].constructor==Array&&(i=i[0]),t.setTimeout(function(){a.push.apply(e._data,i),e._parseData(function(){e._createThumbnails(i)})},2),e},_getActive:function(){return this._controls.getActive()},validate:function(e){return!0},bind:function(e,t){return e=T(e),this.$("container").on(e,this.proxy(t)),this},unbind:function(e){return e=T(e),this.$("container").off(e),this},trigger:function(t){return t="object"==typeof t?e.extend(t,{scope:this}):{type:T(t),scope:this},this.$("container").trigger(t),this},addIdleState:function(e,t,i,n){return this._idle.add.apply(this._idle,L.array(arguments)),this},removeIdleState:function(e){return this._idle.remove.apply(this._idle,L.array(arguments)),this},enterIdleMode:function(){return this._idle.hide(),this},exitIdleMode:function(){return this._idle.showAll(),this},enterFullscreen:function(e){return this._fullscreen.enter.apply(this,L.array(arguments)),this},exitFullscreen:function(e){return this._fullscreen.exit.apply(this,L.array(arguments)),this},toggleFullscreen:function(e){return this._fullscreen[this.isFullscreen()?"exit":"enter"].apply(this,L.array(arguments)),this},bindTooltip:function(e,t){return this._tooltip.bind.apply(this._tooltip,L.array(arguments)),this},defineTooltip:function(e,t){return this._tooltip.define.apply(this._tooltip,L.array(arguments)),this},refreshTooltip:function(e){return this._tooltip.show.apply(this._tooltip,L.array(arguments)),this},openLightbox:function(){return this._lightbox.show.apply(this._lightbox,L.array(arguments)),this},closeLightbox:function(){return this._lightbox.hide.apply(this._lightbox,L.array(arguments)),this},hasVariation:function(t){return e.inArray(t,this._options.variation.split(/\s+/))>-1},getActiveImage:function(){var e=this._getActive();return e?e.image:n},getActiveThumb:function(){return this._thumbnails[this._active].image||n},getMousePosition:function(e){return{x:e.pageX-this.$("container").offset().left,y:e.pageY-this.$("container").offset().top}},addPan:function(t){if(this._options.imageCrop!==!1){t=e(t||this.getActiveImage());var i=this,n=t.width()/2,o=t.height()/2,r=parseInt(t.css("left"),10),s=parseInt(t.css("top"),10),a=r||0,l=s||0,c=0,p=0,d=!1,u=L.timestamp(),h=0,f=0,m=function(e,i,n){if(e>0&&(f=g.round(g.max(-1*e,g.min(0,i))),h!==f))if(h=f,8===b)t.parent()["scroll"+n](-1*f);else{var o={};o[n.toLowerCase()]=f,t.css(o)}},v=function(e){L.timestamp()-u<50||(d=!0,n=i.getMousePosition(e).x,o=i.getMousePosition(e).y)},y=function(e){d&&(c=t.width()-i._stageWidth,p=t.height()-i._stageHeight,r=n/i._stageWidth*c*-1,s=o/i._stageHeight*p*-1,a+=(r-a)/i._options.imagePanSmoothness,l+=(s-l)/i._options.imagePanSmoothness,m(p,l,"Top"),m(c,a,"Left"))};return 8===b&&(t.parent().scrollTop(-1*l).scrollLeft(-1*a),t.css({top:0,left:0})),this.$("stage").off("mousemove",v).on("mousemove",v),this.addTimer("pan"+i._id,y,50,!0),this}},proxy:function(e,t){return"function"!=typeof e?m:(t=t||this,function(){return e.apply(t,L.array(arguments))})},getThemeName:function(){return this.theme.name},removePan:function(){return this.$("stage").off("mousemove"),this.clearTimer("pan"+this._id),this},addElement:function(t){var i=this._dom;return e.each(L.array(arguments),function(e,t){i[t]=L.create("galleria-"+t)}),this},attachKeyboard:function(e){return this._keyboard.attach.apply(this._keyboard,L.array(arguments)),this},detachKeyboard:function(){return this._keyboard.detach.apply(this._keyboard,L.array(arguments)),this},appendChild:function(e,t){return this.$(e).append(this.get(t)||t),this},prependChild:function(e,t){return this.$(e).prepend(this.get(t)||t),this},remove:function(e){return this.$(L.array(arguments).join(",")).remove(),this},append:function(e){var t,i;for(t in e)if(e.hasOwnProperty(t))if(e[t].constructor===Array)for(i=0;e[t][i];i++)this.appendChild(t,e[t][i]);else this.appendChild(t,e[t]);return this},_scaleImage:function(t,i){if(t=t||this._controls.getActive()){var n,o=function(t){e(t.container).children(":first").css({top:g.max(0,L.parseValue(t.image.style.top)),left:g.max(0,L.parseValue(t.image.style.left)),width:L.parseValue(t.image.width),height:L.parseValue(t.image.height)})};return i=e.extend({width:this._stageWidth,height:this._stageHeight,crop:this._options.imageCrop,max:this._options.maxScaleRatio,min:this._options.minScaleRatio,margin:this._options.imageMargin,position:this._options.imagePosition,iframelimit:this._options.maxVideoSize},i),this._options.layerFollow&&this._options.imageCrop!==!0?"function"==typeof i.complete?(n=i.complete,i.complete=function(){n.call(t,t),o(t)}):i.complete=o:e(t.container).children(":first").css({top:0,left:0}),t.scale(i),this}},updateCarousel:function(){return this._carousel.update(),this},resize:function(t,i){"function"==typeof t&&(i=t,t=n),t=e.extend({width:0,height:0},t);var o=this,r=this.$("container");return e.each(t,function(e,i){i||(r[e]("auto"),t[e]=o._getWH()[e])}),e.each(t,function(e,t){r[e](t)}),this.rescale(i)},rescale:function(t,o,r){var s=this;"function"==typeof t&&(r=t,t=n);var a=function(){s._stageWidth=t||s.$("stage").width(),s._stageHeight=o||s.$("stage").height(),s._options.swipe?(e.each(s._controls.slides,function(t,i){s._scaleImage(i),e(i.container).css("left",s._stageWidth*t)}),s.$("images").css("width",s._stageWidth*s.getDataLength())):s._scaleImage(),s._options.carousel&&s.updateCarousel();var n=s._controls.frames[s._controls.active];n&&s._controls.frames[s._controls.active].scale({width:s._stageWidth,height:s._stageHeight,iframelimit:s._options.maxVideoSize}),s.trigger(i.RESCALE),"function"==typeof r&&r.call(s)};return a.call(s),this},refreshImage:function(){return this._scaleImage(),this._options.imagePan&&this.addPan(),this},_preload:function(){if(this._options.preload){var e,t,n=this.getNext(),o;try{for(t=this._options.preload;t>0;t--)e=new i.Picture,o=this.getData(n),e.preload(this.isFullscreen()&&o.big?o.big:o.image),n=this.getNext(n)}catch(r){}}},show:function(n,o,r){var s=this._options.swipe;if(s||!(this._queue.length>3||n===!1||!this._options.queue&&this._queue.stalled)){if(n=g.max(0,g.min(parseInt(n,10),this.getDataLength()-1)),o="undefined"!=typeof o?!!o:n<this.getIndex(),r=r||!1,!r&&i.History)return void i.History.set(n.toString());if(this.finger&&n!==this._active&&(this.finger.to=-(n*this.finger.width),this.finger.index=n),this._active=n,s){var l=this.getData(n),c=this;if(!l)return;var p=this.isFullscreen()&&l.big?l.big:l.image||l.iframe,d=this._controls.slides[n],u=d.isCached(p),h=this._thumbnails[n],f={cached:u,index:n,rewind:o,imageTarget:d.image,thumbTarget:h.image,galleriaData:l};this.trigger(e.extend(f,{type:i.LOADSTART})),c.$("container").removeClass("videoplay");var m=function(){c._layers[n].innerHTML=c.getData().layer||"",c.trigger(e.extend(f,{type:i.LOADFINISH})),c._playCheck()};c._preload(),t.setTimeout(function(){d.ready&&e(d.image).attr("src")==p?(c.trigger(e.extend(f,{type:i.IMAGE})),m()):(l.iframe&&!l.image&&(d.isIframe=!0),d.load(p,function(t){f.imageTarget=t.image,c._scaleImage(t,m).trigger(e.extend(f,{type:i.IMAGE})),m()}))},100)}else a.push.call(this._queue,{index:n,rewind:o}),this._queue.stalled||this._show();return this}},_show:function(){var o=this,r=this._queue[0],s=this.getData(r.index);if(s){var l=this.isFullscreen()&&s.big?s.big:s.image||s.iframe,c=this._controls.getActive(),p=this._controls.getNext(),d=p.isCached(l),u=this._thumbnails[r.index],h=function(){e(p.image).trigger("mouseup")};o.$("container").toggleClass("iframe",!!s.isIframe).removeClass("videoplay");var f=function(r,s,l,c,p){return function(){var d;z.active=!1,L.toggleQuality(s.image,o._options.imageQuality),o._layers[o._controls.active].innerHTML="",e(l.container).css({zIndex:0,opacity:0}).show(),e(l.container).find("iframe, .galleria-videoicon").remove(),e(o._controls.frames[o._controls.active].container).hide(),e(s.container).css({zIndex:1,left:0,top:0}).show(),o._controls.swap(),o._options.imagePan&&o.addPan(s.image),(r.iframe&&r.image||r.link||o._options.lightbox||o._options.clicknext)&&e(s.image).css({cursor:"pointer"}).on("mouseup",function(s){if(!("number"==typeof s.which&&s.which>1)){if(r.iframe){o.isPlaying()&&o.pause();
var a=o._controls.frames[o._controls.active],l=o._stageWidth,c=o._stageHeight;return e(a.container).css({width:l,height:c,opacity:0}).show().animate({opacity:1},200),void t.setTimeout(function(){a.load(r.iframe+(r.video?"&autoplay=1":""),{width:l,height:c},function(e){o.$("container").addClass("videoplay"),e.scale({width:o._stageWidth,height:o._stageHeight,iframelimit:r.video?o._options.maxVideoSize:n})})},100)}return o._options.clicknext&&!i.TOUCH?(o._options.pauseOnInteraction&&o.pause(),void o.next()):r.link?void(o._options.popupLinks?d=t.open(r.link,"_blank"):t.location.href=r.link):void(o._options.lightbox&&o.openLightbox())}}),o._playCheck(),o.trigger({type:i.IMAGE,index:c.index,imageTarget:s.image,thumbTarget:p.image,galleriaData:r}),a.shift.call(o._queue),o._queue.stalled=!1,o._queue.length&&o._show()}}(s,p,c,r,u);this._options.carousel&&this._options.carouselFollow&&this._carousel.follow(r.index),o._preload(),L.show(p.container),p.isIframe=s.iframe&&!s.image,e(o._thumbnails[r.index].container).addClass("active").siblings(".active").removeClass("active"),o.trigger({type:i.LOADSTART,cached:d,index:r.index,rewind:r.rewind,imageTarget:p.image,thumbTarget:u.image,galleriaData:s}),o._queue.stalled=!0,p.load(l,function(t){var a=e(o._layers[1-o._controls.active]).html(s.layer||"").hide();o._scaleImage(t,{complete:function(t){"image"in c&&L.toggleQuality(c.image,!1),L.toggleQuality(t.image,!1),o.removePan(),o.setInfo(r.index),o.setCounter(r.index),s.layer&&(a.show(),(s.iframe&&s.image||s.link||o._options.lightbox||o._options.clicknext)&&a.css("cursor","pointer").off("mouseup").mouseup(h)),s.video&&s.image&&F(t.container);var l=o._options.transition;if(e.each({initial:null===c.image,touch:i.TOUCH,fullscreen:o.isFullscreen()},function(e,t){return t&&o._options[e+"Transition"]!==n?(l=o._options[e+"Transition"],!1):void 0}),l in z.effects==!1)f();else{var p={prev:c.container,next:t.container,rewind:r.rewind,speed:o._options.transitionSpeed||400};z.active=!0,z.init.call(o,l,p,f)}o.trigger({type:i.LOADFINISH,cached:d,index:r.index,rewind:r.rewind,imageTarget:t.image,thumbTarget:o._thumbnails[r.index].image,galleriaData:o.getData(r.index)})}})})}},getNext:function(e){return e="number"==typeof e?e:this.getIndex(),e===this.getDataLength()-1?0:e+1},getPrev:function(e){return e="number"==typeof e?e:this.getIndex(),0===e?this.getDataLength()-1:e-1},next:function(){return this.getDataLength()>1&&this.show(this.getNext(),!1),this},prev:function(){return this.getDataLength()>1&&this.show(this.getPrev(),!0),this},get:function(e){return e in this._dom?this._dom[e]:null},getData:function(e){return e in this._data?this._data[e]:this._data[this._active]},getDataLength:function(){return this._data.length},getIndex:function(){return"number"==typeof this._active?this._active:!1},getStageHeight:function(){return this._stageHeight},getStageWidth:function(){return this._stageWidth},getOptions:function(e){return"undefined"==typeof e?this._options:this._options[e]},setOptions:function(t,i){return"object"==typeof t?e.extend(this._options,t):this._options[t]=i,this},play:function(e){return this._playing=!0,this._playtime=e||this._playtime,this._playCheck(),this.trigger(i.PLAY),this},pause:function(){return this._playing=!1,this.trigger(i.PAUSE),this},playToggle:function(e){return this._playing?this.pause():this.play(e)},isPlaying:function(){return this._playing},isFullscreen:function(){return this._fullscreen.active},_playCheck:function(){var e=this,t=0,n=20,o=L.timestamp(),r="play"+this._id;if(this._playing){this.clearTimer(r);var s=function(){return t=L.timestamp()-o,t>=e._playtime&&e._playing?(e.clearTimer(r),void e.next()):void(e._playing&&(e.trigger({type:i.PROGRESS,percent:g.ceil(t/e._playtime*100),seconds:g.floor(t/1e3),milliseconds:t}),e.addTimer(r,s,n)))};e.addTimer(r,s,n)}},setPlaytime:function(e){return this._playtime=e,this},setIndex:function(e){return this._active=e,this},setCounter:function(e){if("number"==typeof e?e++:"undefined"==typeof e&&(e=this.getIndex()+1),this.get("current").innerHTML=e,b){var t=this.$("counter"),i=t.css("opacity");1===parseInt(i,10)?L.removeAlpha(t[0]):this.$("counter").css("opacity",i)}return this},setInfo:function(t){var i=this,n=this.getData(t);return e.each(["title","description"],function(e,t){var o=i.$("info-"+t);n[t]?o[n[t].length?"show":"hide"]().html(n[t]):o.empty().hide()}),this},hasInfo:function(e){var t="title description".split(" "),i;for(i=0;t[i];i++)if(this.getData(e)[t[i]])return!0;return!1},jQuery:function(t){var i=this,n=[];e.each(t.split(","),function(t,o){o=e.trim(o),i.get(o)&&n.push(o)});var o=e(i.get(n.shift()));return e.each(n,function(e,t){o=o.add(i.get(t))}),o},$:function(e){return this.jQuery.apply(this,L.array(arguments))}},e.each(x,function(e,t){var n=/_/.test(t)?t.replace(/_/g,""):t;i[t.toUpperCase()]="galleria."+n}),e.extend(i,{IE9:9===b,IE8:8===b,IE7:7===b,IE6:6===b,IE:b,WEBKIT:/webkit/.test(u),CHROME:/chrome/.test(u),SAFARI:/safari/.test(u)&&!/chrome/.test(u),QUIRK:b&&o.compatMode&&"BackCompat"===o.compatMode,MAC:/mac/.test(navigator.platform.toLowerCase()),OPERA:!!t.opera,IPHONE:/iphone/.test(u),IPAD:/ipad/.test(u),ANDROID:/android/.test(u),TOUCH:"ontouchstart"in o}),i.addTheme=function(n){n.name||i.raise("No theme name specified"),n.defaults="object"!=typeof n.defaults?{}:C(n.defaults);var o=!1,r;return"string"==typeof n.css?(e("link").each(function(e,t){return r=new RegExp(n.css),r.test(t.href)?(o=!0,M(n),!1):void 0}),o||e(function(){var s=0,a=function(){e("script").each(function(e,i){r=new RegExp("galleria\\."+n.name.toLowerCase()+"\\."),r.test(i.src)&&(o=i.src.replace(/[^\/]*$/,"")+n.css,t.setTimeout(function(){L.loadCSS(o,"galleria-theme-"+n.name,function(){M(n)})},1))}),o||(s++>5?i.raise("No theme CSS loaded"):t.setTimeout(a,500))};a()})):M(n),n},i.loadTheme=function(n,o){if(!e("script").filter(function(){return e(this).attr("src")==n}).length){var r=!1,s;return e(t).load(function(){r||(s=t.setTimeout(function(){r||i.raise("Galleria had problems loading theme at "+n+". Please check theme path or load manually.",!0)},2e4))}),L.loadScript(n,function(){r=!0,t.clearTimeout(s)}),i}},i.get=function(e){return O[e]?O[e]:"number"!=typeof e?O:void i.raise("Gallery index "+e+" not found")},i.configure=function(t,n){var o={};return"string"==typeof t&&n?(o[t]=n,t=o):e.extend(o,t),i.configure.options=o,e.each(i.get(),function(e,t){t.setOptions(o)}),i},i.configure.options={},i.on=function(t,n){if(t){n=n||m;var o=t+n.toString().replace(/\s/g,"")+L.timestamp();return e.each(i.get(),function(e,i){i._binds.push(o),i.bind(t,n)}),i.on.binds.push({type:t,callback:n,hash:o}),i}},i.on.binds=[],i.run=function(t,n){return e.isFunction(n)&&(n={extend:n}),e(t||"#galleria").galleria(n),i},i.addTransition=function(e,t){return z.effects[e]=t,i},i.utils=L,i.log=function(){var i=L.array(arguments);if(!("console"in t&&"log"in t.console))return t.alert(i.join("<br>"));try{return t.console.log.apply(t.console,i)}catch(n){e.each(i,function(){t.console.log(this)})}},i.ready=function(t){return"function"!=typeof t?i:(e.each(A,function(e,i){t.call(i,i._options)}),i.ready.callbacks.push(t),i)},i.ready.callbacks=[],i.raise=function(t,i){var n=i?"Fatal error":"Error",o={color:"#fff",position:"absolute",top:0,left:0,zIndex:1e5},r=function(t){var r='<div style="padding:4px;margin:0 0 2px;background:#'+(i?"811":"222")+';">'+(i?"<strong>"+n+": </strong>":"")+t+"</div>";e.each(O,function(){var e=this.$("errors"),t=this.$("target");e.length||(t.css("position","relative"),e=this.addElement("errors").appendChild("target","errors").$("errors").css(o)),e.append(r)}),O.length||e("<div>").css(e.extend(o,{position:"fixed"})).append(r).appendTo(y().body)};if(c){if(r(t),i)throw new Error(n+": "+t)}else if(i){if($)return;$=!0,i=!1,r("Gallery could not load.")}},i.version=l,i.getLoadedThemes=function(){return e.map(D,function(e){return e.name})},i.requires=function(e,t){return t=t||"You need to upgrade Galleria to version "+e+" to use one or more components.",i.version<e&&i.raise(t,!0),i},i.Picture=function(t){this.id=t||null,this.image=null,this.container=L.create("galleria-image"),e(this.container).css({overflow:"hidden",position:"relative"}),this.original={width:0,height:0},this.ready=!1,this.isIframe=!1},i.Picture.prototype={cache:{},show:function(){L.show(this.image)},hide:function(){L.moveOut(this.image)},clear:function(){this.image=null},isCached:function(e){return!!this.cache[e]},preload:function(t){e(new Image).load(function(e,t){return function(){t[e]=e}}(t,this.cache)).attr("src",t)},load:function(n,o,r){if("function"==typeof o&&(r=o,o=null),this.isIframe){var s="if"+(new Date).getTime(),a=this.image=e("<iframe>",{src:n,frameborder:0,id:s,allowfullscreen:!0,css:{visibility:"hidden"}})[0];return o&&e(a).css(o),e(this.container).find("iframe,img").remove(),this.container.appendChild(this.image),e("#"+s).load(function(i,n){return function(){t.setTimeout(function(){e(i.image).css("visibility","visible"),"function"==typeof n&&n.call(i,i)},10)}}(this,r)),this.container}this.image=new Image,i.IE8&&e(this.image).css("filter","inherit"),i.IE||i.CHROME||i.SAFARI||e(this.image).css("image-rendering","optimizequality");var l=!1,c=!1,p=e(this.container),u=e(this.image),h=function(){l?d?e(this).attr("src",d):i.raise("Image not found: "+n):(l=!0,t.setTimeout(function(e,t){return function(){e.attr("src",t+(t.indexOf("?")>-1?"&":"?")+L.timestamp())}}(e(this),n),50))},f=function(n,r,s){return function(){var a=function(){e(this).off("load"),n.original=o||{height:this.height,width:this.width},i.HAS3D&&(this.style.MozTransform=this.style.webkitTransform="translate3d(0,0,0)"),p.append(this),n.cache[s]=s,"function"==typeof r&&t.setTimeout(function(){r.call(n,n)},1)};this.width&&this.height?a.call(this):!function(t){L.wait({until:function(){return t.width&&t.height},success:function(){a.call(t)},error:function(){c?i.raise("Could not extract width/height from image: "+t.src+". Traced measures: width:"+t.width+"px, height: "+t.height+"px."):(e(new Image).load(f).attr("src",t.src),c=!0)},timeout:100})}(this)}}(this,r,n);return p.find("iframe,img").remove(),u.css("display","block"),L.hide(this.image),e.each("minWidth minHeight maxWidth maxHeight".split(" "),function(e,t){u.css(t,/min/.test(t)?"0":"none")}),u.load(f).on("error",h).attr("src",n),this.container},scale:function(t){var o=this;if(t=e.extend({width:0,height:0,min:n,max:n,margin:0,complete:m,position:"center",crop:!1,canvas:!1,iframelimit:n},t),this.isIframe){var r=t.width,s=t.height,a,l;if(t.iframelimit){var c=g.min(t.iframelimit/r,t.iframelimit/s);1>c?(a=r*c,l=s*c,e(this.image).css({top:s/2-l/2,left:r/2-a/2,position:"absolute"})):e(this.image).css({top:0,left:0})}e(this.image).width(a||r).height(l||s).removeAttr("width").removeAttr("height"),e(this.container).width(r).height(s),t.complete.call(o,o);try{this.image.contentWindow&&e(this.image.contentWindow).trigger("resize")}catch(p){}return this.container}if(!this.image)return this.container;var d,u,h=e(o.container),f;return L.wait({until:function(){return d=t.width||h.width()||L.parseValue(h.css("width")),u=t.height||h.height()||L.parseValue(h.css("height")),d&&u},success:function(){var i=(d-2*t.margin)/o.original.width,n=(u-2*t.margin)/o.original.height,r=g.min(i,n),s=g.max(i,n),a={"true":s,width:i,height:n,"false":r,landscape:o.original.width>o.original.height?s:r,portrait:o.original.width<o.original.height?s:r},l=a[t.crop.toString()],c="";t.max&&(l=g.min(t.max,l)),t.min&&(l=g.max(t.min,l)),e.each(["width","height"],function(t,i){e(o.image)[i](o[i]=o.image[i]=g.round(o.original[i]*l))}),e(o.container).width(d).height(u),t.canvas&&E&&(E.elem.width=o.width,E.elem.height=o.height,c=o.image.src+":"+o.width+"x"+o.height,o.image.src=E.cache[c]||function(e){E.context.drawImage(o.image,0,0,o.original.width*l,o.original.height*l);try{return f=E.elem.toDataURL(),E.length+=f.length,E.cache[e]=f,f}catch(t){return o.image.src}}(c));var p={},h={},m=function(t,i,n){var r=0;if(/\%/.test(t)){var s=parseInt(t,10)/100,a=o.image[i]||e(o.image)[i]();r=g.ceil(-1*a*s+n*s)}else r=L.parseValue(t);return r},v={top:{top:0},left:{left:0},right:{left:"100%"},bottom:{top:"100%"}};e.each(t.position.toLowerCase().split(" "),function(e,t){"center"===t&&(t="50%"),p[e?"top":"left"]=t}),e.each(p,function(t,i){v.hasOwnProperty(i)&&e.extend(h,v[i])}),p=p.top?e.extend(p,h):h,p=e.extend({top:"50%",left:"50%"},p),e(o.image).css({position:"absolute",top:m(p.top,"height",u),left:m(p.left,"width",d)}),o.show(),o.ready=!0,t.complete.call(o,o)},error:function(){i.raise("Could not scale image: "+o.image.src)},timeout:1e3}),this}},e.extend(e.easing,{galleria:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},galleriaIn:function(e,t,i,n,o){return n*(t/=o)*t+i},galleriaOut:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}}),i.Finger=function(){var n=g.abs,s=i.HAS3D=function(){var t=o.createElement("p"),i,n=["webkit","O","ms","Moz",""],r,s=0,a="transform";for(y().html.insertBefore(t,null);n[s];s++)r=n[s]?n[s]+"Transform":a,void 0!==t.style[r]&&(t.style[r]="translate3d(1px,1px,1px)",i=e(t).css(n[s]?"-"+n[s].toLowerCase()+"-"+a:a));return y().html.removeChild(t),void 0!==i&&i.length>0&&"none"!==i}(),a=function(){var e="RequestAnimationFrame";return t.requestAnimationFrame||t["webkit"+e]||t["moz"+e]||t["o"+e]||t["ms"+e]||function(e){t.setTimeout(e,1e3/60)}}(),l=function(i,n){if(this.config={start:0,duration:500,onchange:function(){},oncomplete:function(){},easing:function(e,t,i,n,o){return-n*((t=t/o-1)*t*t*t-1)+i}},this.easeout=function(e,t,i,n,o){return n*((t=t/o-1)*t*t*t*t+1)+i},i.children.length){var o=this;e.extend(this.config,n),this.elem=i,this.child=i.children[0],this.to=this.pos=0,this.touching=!1,this.start={},this.index=this.config.start,this.anim=0,this.easing=this.config.easing,s||(this.child.style.position="absolute",this.elem.style.position="relative"),e.each(["ontouchstart","ontouchmove","ontouchend","setup"],function(e,t){o[t]=function(e){return function(){e.apply(o,arguments)}}(o[t])}),this.setX=function(){var e=o.child.style;return s?void(e.MozTransform=e.webkitTransform=e.transform="translate3d("+o.pos+"px,0,0)"):void(e.left=o.pos+"px")},e(i).on("touchstart",this.ontouchstart),e(t).on("resize",this.setup),e(t).on("orientationchange",this.setup),this.setup(),!function r(){a(r),o.loop.call(o)}()}};return l.prototype={constructor:l,setup:function(){this.width=e(this.elem).width(),this.length=g.ceil(e(this.child).width()/this.width),0!==this.index&&(this.index=g.max(0,g.min(this.index,this.length-1)),this.pos=this.to=-this.width*this.index)},setPosition:function(e){this.pos=e,this.to=e},ontouchstart:function(e){var t=e.originalEvent.touches;this.start={pageX:t[0].pageX,pageY:t[0].pageY,time:+new Date},this.isScrolling=null,this.touching=!0,this.deltaX=0,r.on("touchmove",this.ontouchmove),r.on("touchend",this.ontouchend)},ontouchmove:function(e){var t=e.originalEvent.touches;t&&t.length>1||e.scale&&1!==e.scale||(this.deltaX=t[0].pageX-this.start.pageX,null===this.isScrolling&&(this.isScrolling=!!(this.isScrolling||g.abs(this.deltaX)<g.abs(t[0].pageY-this.start.pageY))),this.isScrolling||(e.preventDefault(),this.deltaX/=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0?g.abs(this.deltaX)/this.width+1.8:1,this.to=this.deltaX-this.index*this.width),e.stopPropagation())},ontouchend:function(e){this.touching=!1;var t=+new Date-this.start.time<250&&g.abs(this.deltaX)>40||g.abs(this.deltaX)>this.width/2,i=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;this.isScrolling||this.show(this.index+(t&&!i?this.deltaX<0?1:-1:0)),r.off("touchmove",this.ontouchmove),r.off("touchend",this.ontouchend)},show:function(e){e!=this.index?this.config.onchange.call(this,e):this.to=-(e*this.width)},moveTo:function(e){e!=this.index&&(this.pos=this.to=-(e*this.width),this.index=e)},loop:function(){var e=this.to-this.pos,t=1;if(this.width&&e&&(t=g.max(.5,g.min(1.5,g.abs(e/this.width)))),this.touching||g.abs(e)<=1)this.pos=this.to,e=0,this.anim&&!this.touching&&this.config.oncomplete(this.index),this.anim=0,this.easing=this.config.easing;else{this.anim||(this.anim={start:this.pos,time:+new Date,distance:e,factor:t,destination:this.to});var i=+new Date-this.anim.time,n=this.config.duration*this.anim.factor;if(i>n||this.anim.destination!=this.to)return this.anim=0,void(this.easing=this.easeout);this.pos=this.easing(null,i,this.anim.start,this.anim.distance,n)}this.setX()}},l}(),e.fn.galleria=function(t){var n=this.selector;return e(this).length?this.each(function(){e.data(this,"galleria")&&(e.data(this,"galleria").destroy(),e(this).find("*").hide()),e.data(this,"galleria",(new i).init(this,t))}):(e(function(){e(n).length?e(n).galleria(t):i.utils.wait({until:function(){return e(n).length},success:function(){e(n).galleria(t)},error:function(){i.raise('Init failed: Galleria could not find the element "'+n+'".')},timeout:5e3})}),this)},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(t.Galleria=i,"function"==typeof define&&define.amd&&define("galleria",["jquery"],function(){return i}))}(jQuery,this),function(){function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,o=this,r=o.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if("object"==typeof e){t={};for(i in n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;e.length>t;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},n.addListener=function(e,i){var n,o=this.getListenersAsObject(e),r="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===t(o[n],i)&&o[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,o,r=this.getListenersAsObject(e);for(o in r)r.hasOwnProperty(o)&&(n=t(r[o],i),-1!==n&&r[o].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(o=t[n])&&("function"==typeof o?r.call(this,n,o):s.call(this,n,o));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if("object"===i)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,o,r,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].length;n--;)i=s[o][n],i.once===!0&&this.removeListener(e,i.listener),r=i.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=r,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var i=e.event;return i.target=i.target||i.srcElement||t,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(e,t,i){e.addEventListener(t,i,!1)}:i.attachEvent&&(n=function(e,i,n){e[i+n]=n.handleEvent?function(){var i=t(e);n.handleEvent.call(n,i)}:function(){var i=t(e);n.call(e,i)},e.attachEvent("on"+i,e[i+n])});var o=function(){};i.removeEventListener?o=function(e,t,i){e.removeEventListener(t,i,!1)}:i.detachEvent&&(o=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(n){e[t+i]=void 0}});var r={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,i){function n(e,t){for(var i in t)e[i]=t[i];return e}function o(e){return"[object Array]"===u.call(e)}function r(e){var t=[];if(o(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;n>i;i++)t.push(e[i]);else t.push(e);return t}function s(e,t,i){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?i=t:n(this.options,t),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var o=this;setTimeout(function(){o.check()})}function a(e){this.img=e}function l(e){this.src=e,h[e]=this}var c=e.jQuery,p=e.console,d=void 0!==p,u=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var o=i.querySelectorAll("img"),r=0,s=o.length;s>r;r++){var a=o[r];this.addImage(a)}}},s.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},s.prototype.check=function(){function e(e,o){return t.options.debug&&d&&p.log("confirm",e,o),t.progress(e),i++,i===n&&t.complete(),!0}var t=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var o=0;n>o;o++){var r=this.images[o];r.on("confirm",e),r.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},c&&(c.fn.imagesLoaded=function(e,t){var i=new s(this,e,t);return i.jqDeferred.promise(c(this))}),a.prototype=new t,a.prototype.check=function(){var e=h[this.img.src]||new l(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var h={};return l.prototype=new t,l.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},l.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},s}),$(document).ready(function(){viewportWidth=null,viewportHeight=null,navbarHeight=null,$(window).on("resize",function(){viewportWidth=$(window).width(),viewportHeight=$(window).height(),navbarHeight=$("#navbar").height(),$(".home-featured").height(viewportHeight),700>viewportHeight&&$(".obra-gallery").height(viewportHeight-96)}).resize(),$("body").waypoint(function(e){$("#navbar").toggleClass("compact")},{offset:-50}),$(".home-slider").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,pauseOnHover:!1,arrows:!1,easing:"easeInOutQuad",cssEase:"cubic-bezier(0.800, 0.020, 0.195, 0.960)",speed:1500}),$(".home-scroll").on("click",function(){return $.smoothScroll({scrollElement:$("body").firstScrollable(),scrollTarget:"#home-obras",easing:"easeInOutQuad",speed:1e3}),!1}),$("#nav-trigger").click(function(){$("body").hasClass("nav-visible")?$("body").removeClass("nav-visible"):$("body").addClass("nav-visible")}),$(".nav-mobile a").click(function(){$("body").hasClass("nav-visible")?$("body").removeClass("nav-visible"):$("body").addClass("nav-visible")}),$(".video-container").fitVids(),$("#servicios-items-load").load("ajax/servicios-items.html",function(){$("#servicios-btn-1").click(function(){$("#servicios-item-1").addClass("current"),$("html").css("overflow","hidden")}),$("#servicios-btn-2").click(function(){$("#servicios-item-2").addClass("current"),$("html").css("overflow","hidden")}),$("#servicios-btn-3").click(function(){$("#servicios-item-3").addClass("current"),$("html").css("overflow","hidden")}),$("#servicios-btn-4").click(function(){$("#servicios-item-4").addClass("current"),$("html").css("overflow","hidden")}),$(".servicios-back").click(function(){$(".servicios-item").removeClass("current"),$("html").css("overflow","auto")})}),$("#contact-submit").click(function(){$(".navbar").removeClass("hidden");var e=!0;$("#contact-form input[required=true], #contact-form textarea[required=true]").each(function(){$(this).css("border-color",""),$.trim($(this).val())||($(this).css("border-color","red"),e=!1);var t=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;"email"!=$(this).attr("type")||t.test($.trim($(this).val()))||($(this).css("border-color","red"),e=!1)}),e&&(post_data={name:$("input[name=contact-name]").val(),email:$("input[name=contact-email]").val(),msg:$("textarea[name=contact-msg]").val()},$.post("contact-form.php",post_data,function(e){"error"==e.type?output='<div class="error">'+e.text+"</div>":(output='<div class="success">'+e.text+"</div>",$("#contact-form input[required=true], #contact-form textarea[required=true]").val(""),$("#contact-form .contact-form-body").slideUp()),$("#contact-form .contact-form-body").hide().html(output).slideDown()},"json"))}),$("#contact-form input[required=true], #contact-form textarea[required=true]").keyup(function(){$(this).css("border-color",""),$("#result").slideUp()})}),function($,e,t,i){"use strict";var n=$(".cbp-obras"),o=$(".cbp-obras-filters"),r,s;n.cubeportfolio({layoutMode:"grid",rewindNav:!0,scrollByPage:!1,defaultFilter:"*",animationType:"scaleSides",gapHorizontal:4,gapVertical:4,gridAdjustment:"responsive",mediaQueries:[{width:900,cols:3},{width:500,cols:2},{width:400,cols:1}],caption:"zoom",displayType:"sequentially",displayTypeSpeed:100,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageCallback:function(e,t){var i=this;$.ajax({url:e,type:"GET",dataType:"html",timeout:5e3}).done(function(e){i.updateSinglePage(e)}).fail(function(){i.updateSinglePage("Error! Please refresh the page!")})},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"above",singlePageInlineInFocus:!0,singlePageInlineCallback:function(e,t){}})}(jQuery,window,document),function($,e,t,i){"use strict";var n=$(".cbp-concursos"),o=$(".cbp-concursos-filters"),r,s;n.cubeportfolio({layoutMode:"grid",rewindNav:!0,scrollByPage:!1,defaultFilter:"*",animationType:"scaleSides",gapHorizontal:4,gapVertical:4,gridAdjustment:"responsive",mediaQueries:[{width:767,cols:2},{width:766,cols:1}],caption:"zoom",displayType:"sequentially",displayTypeSpeed:100,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageCallback:function(e,t){var i=this;$.ajax({url:e,type:"GET",dataType:"html",timeout:5e3}).done(function(e){i.updateSinglePage(e)}).fail(function(){i.updateSinglePage("Error! Please refresh the page!")})},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"above",singlePageInlineInFocus:!0,singlePageInlineCallback:function(e,t){}})}(jQuery,window,document),function($,e,t,i){"use strict";var n=$(".cbp-multimedia"),o=$(".cbp-multimedia-filters"),r,s;n.cubeportfolio({layoutMode:"grid",rewindNav:!0,scrollByPage:!1,defaultFilter:"*",animationType:"scaleSides",gapHorizontal:4,gapVertical:4,gridAdjustment:"responsive",mediaQueries:[{width:767,cols:2},{width:766,cols:1}],caption:"zoom",displayType:"sequentially",displayTypeSpeed:100,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageCallback:function(e,t){var i=this;$.ajax({url:e,type:"GET",dataType:"html",timeout:5e3}).done(function(e){i.updateSinglePage(e)}).fail(function(){i.updateSinglePage("Error! Please refresh the page!")})},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"above",singlePageInlineInFocus:!0,singlePageInlineCallback:function(e,t){}})}(jQuery,window,document);